<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Controlling Screen Program Flow - Roku SDK Documentation - Developer Documentation</title>

        

                        
    
                        
    
                        
    

    <meta http-equiv="X-UA-Compatible" content="IE=EDGE,chrome=IE7">
<meta charset="UTF-8">
<meta id="confluence-context-path" name="confluence-context-path" content="">
<meta id="confluence-base-url" name="confluence-base-url" content="https://sdkdocs.roku.com">

<meta id="atlassian-token" name="atlassian-token" content="21a1f5b8620aee26e9099af2a2cb30f0bd6a3b67">


<meta id="confluence-space-key" name="confluence-space-key" content="sdkdoc">


    

    <meta name="confluence-request-time" content="1458566764839">
        
    
        
            <meta name="ajs-is-space-admin" content=""> <meta name="ajs-has-space-config" content="">
            <meta name="ajs-use-keyboard-shortcuts" content="true">
            <meta name="ajs-discovered-plugin-features" content="$discoveredList">
            <meta name="ajs-keyboardshortcut-hash" content="6f3f47137c1b3ed14b1e16e051694721">
            <meta name="ajs-is-confluence-admin" content="false">
            <meta name="ajs-connection-timeout" content="10000">
            
    
    
            <meta name="ajs-page-id" content="1608507">
            <meta name="ajs-latest-page-id" content="1608507">
            <meta name="ajs-content-type" content="page">
            <meta name="ajs-page-title" content="Controlling Screen Program Flow">
            <meta name="ajs-parent-page-title" content="Scene Graph XML Guide">
            <meta name="ajs-parent-page-id" content="1606042">
            <meta name="ajs-space-key" content="sdkdoc">
            <meta name="ajs-space-name" content="Roku SDK Documentation">
            <meta name="ajs-from-page-title" content="">
            <meta name="ajs-can-remove-page" content="false">
            <meta name="ajs-context-path" content="">
            <meta name="ajs-base-url" content="https://sdkdocs.roku.com">
            <meta name="ajs-version-number" content="5.9.1-OD-65-062">
            <meta name="ajs-build-number" content="6150">
            <meta name="ajs-remote-user" content="">
            <meta name="ajs-remote-user-key" content="">
            <meta name="ajs-current-user-fullname" content="">
            <meta name="ajs-current-user-avatar-url" content="">
            <meta name="ajs-static-resource-url-prefix" content="/s/en_GB/6150/5f41c4ff85fd86016ba4c6b8a1bbb6bc9b81bcc3.31/_">
            <meta name="ajs-global-settings-attachment-max-size" content="10485760">
            <meta name="ajs-user-locale" content="en_GB">
            <meta name="ajs-enabled-dark-features" content="clc.quick.create,confluence-inline-comments-resolved,notification.plugin.api.enabled.com.atlassian.confluence.plugins.sharepage.api.ShareContentEvent,notification.plugin.api.enabled.com.atlassian.confluence.plugins.mentions.api.ConfluenceMentionEvent,notification.plugin.api.enabled.com.atlassian.confluence.event.events.security.ForgotPasswordEvent,pdf-preview,notification.plugin.api.enabled.com.atlassian.confluence.plugins.tasklist.event.SendTaskEmailEvent,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.page.async.PageMovedEvent,previews.sharing,previews.versions,notification.plugin.api.enabled.com.atlassian.confluence.plugins.files.notifications.event.FileContentUpdateEvent,file-annotations,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.attachment.AttachmentBatchUploadCompletedEvent,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.comment.CommentCreateEvent,notification.plugin.api.enabled.com.atlassian.confluence.efi.emails.events.OnboardingLessUsersEvent,notification.plugin.api.enabled.com.atlassian.confluence.plugins.files.notifications.event.FileContentRemoveEvent,confluence.wrap.macro,atlassian.aui.raphael.disabled,previews.conversion-service,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.comment.CommentUpdateEvent,notification.plugin.api.enabled.com.atlassian.confluence.event.events.follow.FollowEvent,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.page.async.PageEditedEvent,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.blogpost.BlogPostCreateEvent,previews.trigger-all-file-types,notification.plugin.api.enabled.com.atlassian.confluence.plugins.inlinecomments.events.InlineCommentResolveEvent,notification.plugin.api.enabled.com.atlassian.confluence.event.events.like.LikeCreatedEvent,notification.plugin.api.enabled.com.atlassian.confluence.plugins.inlinecomments.events.InlineCommentCreateEvent,previews.sharing.pushstate,confluence-inline-comments-rich-editor,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.blogpost.BlogPostUpdateEvent,file-annotations.likes,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.page.async.PageCreatedEvent,notification.plugin.api.enabled.com.atlassian.confluence.plugins.files.notifications.event.FileContentMentionUpdateEvent,notification.plugin.api.enabled.com.atlassian.confluence.efi.emails.events.OnboardingNoSpaceCreatedEvent,notification.plugin.api.enabled.com.atlassian.confluence.plugins.hipchat.api.events.HipChatUserMapped,notification.plugin.api.enabled.com.atlassian.confluence.plugins.sharepage.api.ShareAttachmentEvent,confluence-inline-comments,quick-reload-inline-comments-flags,confluence-inline-comments-dangling-comment,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.blogpost.BlogPostMovedEvent">
            <meta name="ajs-atl-token" content="21a1f5b8620aee26e9099af2a2cb30f0bd6a3b67">
            <meta name="ajs-confluence-flavour" content="VANILLA">
            <meta name="ajs-user-date-pattern" content="dd MMM yyyy">
            <meta name="ajs-date.format" content="MMM dd, yyyy">
    
    <link rel="shortcut icon" href="../../s/en_GB/6150/5f41c4ff85fd86016ba4c6b8a1bbb6bc9b81bcc3.31/_/favicon.ico">
    <link rel="icon" type="image/x-icon" href="../../s/en_GB/6150/5f41c4ff85fd86016ba4c6b8a1bbb6bc9b81bcc3.31/_/favicon.ico">

<link rel="search" type="application/opensearchdescription+xml" href="https://sdkdocs.roku.com/opensearch/osd.action" title="Developer Documentation">


<link type="text/css" rel="stylesheet" href="../../s/c0b179288d335d9e912667cdb75fb8d2-CDN/en_GB/6150/5f41c4ff85fd86016ba4c6b8a1bbb6bc9b81bcc3.31/9/_/download/superbatch/css/batch.css%3Fbuild-number=6150.css" media="all">
<!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/6150/5f41c4ff85fd86016ba4c6b8a1bbb6bc9b81bcc3.31/9/_/download/superbatch/css/batch.css?conditionalComment=lt+IE+9" media="all">
<![endif]-->
<!--[if lte IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/6150/5f41c4ff85fd86016ba4c6b8a1bbb6bc9b81bcc3.31/9/_/download/superbatch/css/batch.css?conditionalComment=lte+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/6150/5f41c4ff85fd86016ba4c6b8a1bbb6bc9b81bcc3.31/fb358127e94bd69e710c31c2f2ba1c43/_/download/contextbatch/css/toc-macro-client-impl/batch.css" media="all">
<link type="text/css" rel="stylesheet" href="../../s/d375ee99916b6b096207b53cf4260ab0-CDN/en_GB/6150/5f41c4ff85fd86016ba4c6b8a1bbb6bc9b81bcc3.31/97a922b416cbe43cf83e5c5ab531a613/_/download/contextbatch/css/atl.confluence.plugins.pagetree-desktop,main,viewcontent,page,atl.general,atl.comments/batch.css%3Fhighlightactions=true&amp;flavour=VANILLA&amp;custom-site-logo=true.css" media="all">
<!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/6150/5f41c4ff85fd86016ba4c6b8a1bbb6bc9b81bcc3.31/97a922b416cbe43cf83e5c5ab531a613/_/download/contextbatch/css/atl.confluence.plugins.pagetree-desktop,main,viewcontent,page,atl.general,atl.comments/batch.css?conditionalComment=lt+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="../../s/35e02545dc3a2fc430eccbb927fe7227-CDN/en_GB/6150/5f41c4ff85fd86016ba4c6b8a1bbb6bc9b81bcc3.31/96ff7b4cb8d7e0cf3843a298eef90d7a/_/download/contextbatch/css/theme.doc/batch.css" media="all">
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/6150/5f41c4ff85fd86016ba4c6b8a1bbb6bc9b81bcc3.31/3.7.2/_/download/batch/confluence.extra.information:information-plugin-adg-styles/confluence.extra.information:information-plugin-adg-styles.css" media="all">
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/6150/5f41c4ff85fd86016ba4c6b8a1bbb6bc9b81bcc3.31/2.1.8/_/download/batch/com.atlassian.confluence.ext.newcode-macro-plugin:syntaxhighlighter/com.atlassian.confluence.ext.newcode-macro-plugin:syntaxhighlighter.css" media="all">
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/6150/5f41c4ff85fd86016ba4c6b8a1bbb6bc9b81bcc3.31/2.1.8/_/download/batch/com.atlassian.confluence.ext.newcode-macro-plugin:sh-theme-confluence/com.atlassian.confluence.ext.newcode-macro-plugin:sh-theme-confluence.css" media="all">
<link type="text/css" rel="stylesheet" href="../../s/en_GB/6150/5f41c4ff85fd86016ba4c6b8a1bbb6bc9b81bcc3.31/31/_/styles/colors.css" media="all">
<script type="text/javascript" src="../../s/a72faf4a376b855acc1dc1b5e40829cb-CDN/en_GB/6150/5f41c4ff85fd86016ba4c6b8a1bbb6bc9b81bcc3.31/9/_/download/superbatch/js/batch.js%3Fatlassian.aui.raphael.disabled=true&amp;locale=en-GB&amp;build-number=6150"></script>
<script type="text/javascript" src="../../s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/6150/5f41c4ff85fd86016ba4c6b8a1bbb6bc9b81bcc3.31/fb358127e94bd69e710c31c2f2ba1c43/_/download/contextbatch/js/toc-macro-client-impl/batch.js"></script>
<script type="text/javascript" src="../../s/fd3d085a9edff5a756d242bf1bc14976-CDN/en_GB/6150/5f41c4ff85fd86016ba4c6b8a1bbb6bc9b81bcc3.31/97a922b416cbe43cf83e5c5ab531a613/_/download/contextbatch/js/atl.confluence.plugins.pagetree-desktop,main,viewcontent,page,atl.general,atl.comments/batch.js%3Fanalytics-uploadable=true&amp;highlightactions=true&amp;flavour=VANILLA&amp;analytics-enabled=true&amp;locale=en-GB&amp;anonymous-access-enabled=true&amp;is-server-instance=true&amp;hostenabled=true"></script>
<script type="text/javascript" src="../../s/6c0981174e94142364564819dc0d1413-CDN/en_GB/6150/5f41c4ff85fd86016ba4c6b8a1bbb6bc9b81bcc3.31/96ff7b4cb8d7e0cf3843a298eef90d7a/_/download/contextbatch/js/theme.doc/batch.js%3Flocale=en-GB"></script>
<script type="text/javascript" src="../../s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/6150/5f41c4ff85fd86016ba4c6b8a1bbb6bc9b81bcc3.31/2.1.8/_/download/batch/com.atlassian.confluence.ext.newcode-macro-plugin:syntaxhighlighter/com.atlassian.confluence.ext.newcode-macro-plugin:syntaxhighlighter.js"></script>
<script type="text/javascript" src="../../s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/6150/5f41c4ff85fd86016ba4c6b8a1bbb6bc9b81bcc3.31/2.1.8/_/download/batch/com.atlassian.confluence.ext.newcode-macro-plugin:syntaxhighlighter-brushes/com.atlassian.confluence.ext.newcode-macro-plugin:syntaxhighlighter-brushes.js"></script>
<script type="text/javascript" src="../../s/6c0981174e94142364564819dc0d1413-CDN/en_GB/6150/5f41c4ff85fd86016ba4c6b8a1bbb6bc9b81bcc3.31/2.1.8/_/download/batch/com.atlassian.confluence.ext.newcode-macro-plugin:syntaxhighlighter-init/com.atlassian.confluence.ext.newcode-macro-plugin:syntaxhighlighter-init.js%3Flocale=en-GB"></script>


        
    

        
        <meta name="ajs-site-title" content="Developer Documentation">

    
    

<!-- Google Tag Manager -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WZTPN7" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>

<!-- End Google Tag Manager -->

<!-- New Relic -->

<!-- End New Relic -->

    
                <link rel="canonical" href="Controlling+Screen+Program+Flow.html">
        <link rel="shortlink" href="https://sdkdocs.roku.com/x/O4sY">
    <meta name="wikilink" content="[sdkdoc:Controlling Screen Program Flow]">
    <meta name="page-version" content="16">

</head>

<body onload="placeFocus()" id="com-atlassian-confluence" class="theme-documentation  aui-theme-default aui-layout">

        
            <div id="stp-licenseStatus-banner"></div>
    <div id="full-height-container">
    <div id="header-precursor">
        
                    </div>







<header id="header" role="banner">
    <nav class="aui-header aui-dropdown2-trigger-group" role="navigation"><div class="aui-header-inner"><div class="aui-header-primary">
<h1 id="logo" class="aui-header-logo aui-header-logo-custom"><a href="../sdkdoc.1.html"><img src="https://sdkdocs.roku.com/download/attachments/524289/atl.site.logo?version=2&amp;modificationDate=1440675577312&amp;api=v2" alt="Developer Documentation"><span class="aui-header-logo-text">Developer Documentation</span></a></h1>
<ul class="aui-nav">
                            <li>
            
        
        
<a id="space-directory-link" href="https://sdkdocs.roku.com/spacedirectory/view.action" class=" aui-nav-imagelink" title="Spaces">
            <span>Spaces</span>
    </a>
        </li>
                            <li id="browseMenu" role="menu">
            
    
        <a id="browse-menu-link" class="aui-nav-link aui-dropdown2-trigger" href="Controlling+Screen+Program+Flow.html#" aria-haspopup="true" aria-owns="browse-menu-link-content" title="Browse">
        <span class="browse">Browse</span>
    </a>
    <nav id="browse-menu-link-content" class="aui-dropdown2 aui-style-default" aria-hidden="true">
                    <div class="aui-dropdown2-section">
                                <ul id="browse-menu-link-leading" class="aui-list-truncate section-leading first">
                                            <li>
    
            
<a id="space-pages-link" href="https://sdkdocs.roku.com/pages/listpages.action?key=sdkdoc" class="    " title="Browse pages in the Roku SDK Documentation space">
        Pages
</a>
</li>
                                            <li>
    
            
<a id="space-blogposts-link" href="https://sdkdocs.roku.com/pages/viewrecentblogposts.action?key=sdkdoc" class="    " title="Browse blogs in the Roku SDK Documentation space">
        Blog
</a>
</li>
                                            <li>
    
            
<a id="space-labels-link" href="https://sdkdocs.roku.com/labels/listlabels-heatmap.action?key=sdkdoc" class="    " title="Browse labels in the Roku SDK Documentation space">
        Labels
</a>
</li>
                                            <li>
    
            
<a id="space-advanced-link" href="https://sdkdocs.roku.com/spaces/viewspacesummary.action?key=sdkdoc" class="    " title="Browse additional space functions in the Roku SDK Documentation space">
        Space Operations
</a>
</li>
                                    </ul>
            </div>
            </nav>
    
        </li>
                        <li class="aui-buttons">
            </li>
    </ul>
</div></div>
<!-- .aui-header-inner--></nav><!-- .aui-header -->
    <br class="clear">
</header>

    <div id="splitter">
    <div id="splitter-sidebar" class="padding-div">
        

                    
    






            </div>
    <div id="splitter-content">

        

                        
            
<div id="main" class="aui-page-panel">
    <div id="main-header">
        
        
    

        
                <div id="title-heading" class="pagetitle with-breadcrumbs">
        
                                        
                            <div id="breadcrumb-section">
                    
    
    
    <ol id="breadcrumbs">
                                        
                        
        <li class="first">
                        
                            <span class=""><a href="../sdkdoc.1.html">Roku SDK Documentation</a></span>
                                                                    
                        
        </li>
<li>
                        
                            <span class=""><a href="../sdkdoc.1.html">Roku SDK Documentation</a></span>
                                                                    
                        
        </li>
<li>
                        
                            <span class=""><a href="Scene+Graph+XML+Guide.html">Scene Graph XML Guide</a></span>
                                                    </li>
</ol>


                </div>
            
            <h1 id="title-text" class="with-breadcrumbs">
                                        <a href="Controlling+Screen+Program+Flow.html">Controlling Screen Program Flow</a>
                            </h1>
        </div>
    </div>

    

    
    
    
    
    

        




        













    
    
        
    
    
                    
    

    


<div id="content" class="page view">
    


<div id="action-messages">
                        </div>



        


        
    
    
        <fieldset class="hidden parameters">
            <input type="hidden" title="parentPageId" value="1606042">
        </fieldset>

                            
    

                    

        
        <a href="Controlling+Screen+Program+Flow.html#page-metadata-end" class="assistive">Skip to end of metadata</a>
<div id="page-metadata-start" class="assistive"></div>

    <div class="page-metadata">
        <ul>
                            <li class="page-metadata-item noprint">

    
            
                                            
    
    
    <a id="content-metadata-page-restrictions-hidden" href="Controlling+Screen+Program+Flow.html#" rel="nofollow" class="hidden" title="Unrestricted">
                <span>
                        
        </span>    </a>
</li>
                            <li class="page-metadata-item noprint">

    
        
                                            
    
    
    <a id="content-metadata-attachments" href="https://sdkdocs.roku.com/pages/viewpageattachments.action?pageId=1608507&amp;metadataLink=true" rel="nofollow" class="aui-icon aui-icon-small aui-iconfont-attachment" accesskey="t" title="2 attachments">
                <span>
                        
        </span>    </a>
</li>
                        <li class="page-metadata-modification-info">
                
        
    
        
    
        
            
            Created by <span class="author">     <a href="../~breid.html" class="url fn">Bill Reid</a></span>, last modified on <a class="last-modified" title="Show changes" href="https://sdkdocs.roku.com/pages/diffpagesbyversion.action?pageId=1608507&amp;selectedPageVersions=15&amp;selectedPageVersions=16">Feb 19, 2016</a>
                </li>
        </ul>
    </div>


<a href="Controlling+Screen+Program+Flow.html#page-metadata-start" class="assistive">Go to start of metadata</a>
<div id="page-metadata-end" class="assistive"></div>

        
        <fieldset class="hidden parameters">
                        <input type="hidden" title="browsePageTreeMode" value="view">
        </fieldset>

        <div id="main-content" class="wiki-content">
                           
        <div class="confluence-information-macro confluence-information-macro-note conf-macro output-block" data-hasbody="true" data-macro-name="note">
<p class="title">Beta Documentation</p>
<span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"> </span><div class="confluence-information-macro-body">The contents of this page are subject to change</div>
</div>
<hr>
<p></p>
<div class="toc-macro client-side-toc-macro  conf-macro output-block" data-csslistindent="18px" data-cssliststyle="square" data-hasbody="false" data-headerelements="H1,H2,H3,H4,H5,H6,H7" data-macro-name="toc"> </div>
<hr>
<p>Scene Graph applications can control the flow of screen elements in the following ways:</p>
<ul>
<li>by responding to user remote control key press events</li>
<li>by responding to changes in data, including data that configures the screen elements</li>
<li>by changing the z-order of screen elements</li>
<li>by changing the parent-child relationships of screen elements</li>
<li>by creating and deleting screen elements</li>
<li>by making screen elements invisible and making other screen elements visible</li>
<li>by placing remote control focus on screen elements that may be currently off the screen or otherwise not visible</li>
</ul>
<p>Many of the more complex Scene Graph node classes are designed to automatically respond to remote control key press events, and configure themselves in response to data changes. </p>
<h2 id="ControllingScreenProgramFlow-StructuringYourApplicationandScreenElementComponents">Structuring Your Application and Screen Element Components</h2>
<p>The Scene Graph API was designed to create components that encapsulate the appearance, behavior, and data of custom screen elements. These custom components can then be used in a <strong>Scene</strong> node program flow that creates the custom components as needed, in response to user selections, or changes in data received from and/or sent to a server. These custom components are analogous to BrightScript components with data interfaces that render screens and screen elements, such as roPosterScreen; in fact, the Scene Graph <strong><a href="PosterGrid.html">PosterGrid</a></strong> node class is itself very similar to the BrightScript component roPosterScreen. But by using the Scene Graph API, you can combine several node classes into a custom component with its own encapsulated behavior in response to user input and data received from your server. </p>
<p>As an example, for typical VOD applications, the following should drive the development of your custom Scene Graph components, and the program flow in the <strong>Scene</strong> node that displays these components as needed:</p>
<ul>
<li>your current video content catalog database</li>
<li>the data requirements of allowing users to rent or purchase video items</li>
<li>the visual elements you choose to allow users to select video items</li>
</ul>
<h2 id="ControllingScreenProgramFlow-CreatingCustomComponents">Creating Custom Components</h2>
<p>To continue with a VOD application example, a typical VOD application will first offer a set of video content categories for user selection, such as "New Releases", "Drama", "Comedy", and so forth. This should drive the development of a Scene Graph custom component that displays these categories, which will read the data from your server that you make available to the component to display the categories, including icons, text, graphic images, in either JSON or XML format. The data provided for that component should also include data to pass to another custom component, through the <a href="https://sdkdocs.roku.com/pages/viewpage.action?pageId=1608549"><strong>&lt;interface&gt;</strong></a> element or other means, to allow user selection of further sub-categories or video content items. All of the previous BrightScript component "screens", including "screens" for registration, search, license display, can be developed as encapsulated Scene Graph components, which can (and typically will and should) include their own components developed to provide specific appearance and functionality to several major components in your application.</p>
<p>The deciding factor to develop a custom component is whether it serves a discrete user interface purpose to display certain types of data to the user, and react to user selections and input related to the data. Again, as an example, the first component you might typically develop for a VOD application would be the first menu of video categories. As a user interface design choice, you may have decided to use a vertical list of text strings ("New Releases", "Drama", and so forth), each with a small icon representing each category to the left, and a larger poster graphic image to the right of an example video chosen at random to represent the category (for example, a poster image for the movie <strong>Argo</strong> for the "Drama" category). On your server, you must make available a JSON or XML file containing the necessary data and links to data and graphic images that you have written from your content catalog database to support the data needs of the component. The component itself will consist of the ability to access the required data, and the selected node classes and component behavior to display the data according your user interface design for that screen element.</p>
<p>This is how you might want the list to appear and behave, with the category poster appearing along with a red underline cursor under the focused item:</p>
<p style="margin-left: 30.0px;"> <span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="https://sdkdocs.roku.com/download/attachments/1608507/markuplistdesign.jpg?version=2&amp;modificationDate=1455907082015&amp;api=v2" data-image-src="/download/attachments/1608507/markuplistdesign.jpg?version=2&amp;modificationDate=1455907082015&amp;api=v2" data-unresolved-comment-count="0" data-linked-resource-id="4259960" data-linked-resource-version="2" data-linked-resource-type="attachment" data-linked-resource-default-alias="markuplistdesign.jpg" data-base-url="https://sdkdocs.roku.com" data-linked-resource-content-type="image/jpeg" data-linked-resource-container-id="1608507" data-linked-resource-container-version="16"></span></p>
<p>For the VOD category list example, the first step might be to write a Scene Graph component outline similar to the following:</p>
<p style="margin-left: 30.0px;"><code>&lt;component name = "VODCategoriesList" extends = "MarkupList"&gt;</code></p>
<p style="margin-left: 30.0px;"><code> &lt;/component&gt;</code></p>
<p>You can then select the nodes to comprise your custom component from the Scene Graph API node classes, to either create or modify them using BrightScript in the <strong>&lt;script&gt;</strong> element, and/or declare/define them in XML markup in the <strong>&lt;children&gt;</strong> element. For example, for a list of categories, you might want to use the <a href="LabelList.html"><strong>LabelList</strong></a> node class, or perhaps the <a href="MarkupList.html"><strong>MarkupList</strong></a> node class, since you intend to include graphic images as part of your list. You will also use two <a href="Poster.html"><strong>Poster</strong></a> node classes somewhere in your component for your icon and poster graphic images, perhaps as part of another custom component that is the definition of the <code>itemComponentName</code> field of the <strong>MarkupList</strong> node. You complete the component by adding <strong>&lt;interface&gt;</strong> element fields as needed to get and set data that is either needed for the component, or passed to other components and/or the <strong>Scene</strong> node BrightScript program flow.</p>
<p>For the example VOD categories list, we should use a <strong>MarkupList</strong> node, because we want to use custom graphic images as part of each list item. So we need to start work on a custom item component for the <strong>MarkupList</strong> node <code>itemComponentName</code> field. This custom item component is where we will define the individual sub-elements that make up this screen element component, their Scene Graph node type and position, size, and other attributes, and how they will appear as focus moves from item to item. So we start with the following outline:</p>
<div class="code panel pdl conf-macro output-block" data-hasbody="true" data-macro-name="code" style="border-width: 1px;">
<div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>MarkupList Item Component Outline</b></div>
<div class="codeContent panelContent pdl">
<script type="syntaxhighlighter" class="brush: xml; gutter: false; theme: Confluence"><![CDATA[&lt;component name = &quot;VODCategoriesListItem&quot; extends = &quot;Group&quot; &gt;

  &lt;interface&gt; 
    &lt;field id = &quot;itemContent&quot; type = &quot;node&quot; onChange = &quot;showcontent&quot; /&gt; 
    &lt;field id = &quot;focusPercent&quot; type = &quot;float&quot; onChange = &quot;showfocus&quot; /&gt;
  &lt;/interface&gt;

  &lt;script type=&quot;text/brightscript&quot; &gt;

    &lt;![CDATA[
    sub init() 
      m.itemicon = m.top.findNode(&quot;itemicon&quot;) 
      m.itemlabel = m.top.findNode(&quot;itemLabel&quot;) 
      m.itemcursor = m.top.findNode(&quot;itemcursor&quot;) 
      m.itemposter = m.top.findNode(&quot;itemPoster&quot;) 
    end sub

    sub showcontent() 
      itemcontent = m.top.itemContent 
      m.itemicon.uri = itemcontent.url
      m.itemlabel.text = itemcontent.title 
      m.itemposter.uri = itemcontent.HDPosterUrl
    end sub
    ]]&gt;

  &lt;/script&gt;

  &lt;children&gt;

    &lt;Group&gt;

      &lt;Poster 
        id = &quot;itemicon&quot; /&gt;
      &lt;Label 
        id = &quot;itemLabel&quot; /&gt;
      &lt;Rectangle 
        id = &quot;itemcursor&quot; /&gt;
      &lt;Poster 
        id = &quot;itemPoster&quot; /&gt;

    &lt;/Group&gt;

  &lt;/children&gt;
 
&lt;/component&gt;]]></script>
</div>
</div>
<p>The outline includes the <strong>Poster</strong> nodes we will use for graphic images, a <strong>Label</strong> node for the item string, and a <strong>Rectangle</strong> node we will use as a cursor to indicate focus on the item. It also includes the <strong>&lt;interface&gt;</strong> <code>itemContent</code> field to set the <strong>Poster</strong> node URIs, and the text string for the <strong>Label</strong> node, with the <code>showcontent()</code> function in the <strong>&lt;script&gt;</strong> element setting the required fields for those nodes when the <strong>MarkupList</strong> node creates each instance of the item component.</p>
<p>To complete this component, you would need to specify the local coordinate locations of each of the renderable <strong>&lt;children&gt;</strong> nodes according to the design of the user interface, and any other behavior you want for each list item, such as when it becomes focused and/or unfocused. For this design, we want only the text of each item and the corresponding icon to be visible when the item is unfocused, and make the cursor appear below the item, and the corresponding poster appear to the right, when the item is focused. So, for example, we set the <code>itemPoster</code> sub-element in position in the item definition with an initial <code>opacity</code> field setting of 0.0 to make it invisible until focused:</p>
<p style="margin-left: 30.0px;"><code>&lt;Poster </code><br><code>  id = "itemPoster"  </code><br><code>  width = "98" </code><br><code>  height = "140 </code><br><code>  opacity = "0.0"  </code><br><code>  translation = "[ 192, 4 ]"  /&gt;</code></p>
<p>Then we can write the <strong>&lt;script&gt;</strong> element callback function <code>showfocus()</code> to indicate focus when the <code>focusPercent</code> <strong>&lt;interface&gt;</strong> field changes:</p>
<p style="margin-left: 30.0px;"><code>sub showfocus()  </code><br><code>  m.itemcursor.opacity = m.top.focusPercent  </code><br><code>  m.itemposter.opacity = m.top.focusPercent </code><br><code>end sub</code></p>
<p>Then you assign your item component to the <code>itemComponentName</code> field for your <strong>MarkupList</strong> node component, as part of completely defining your custom category list:</p>
<div class="code panel pdl conf-macro output-block" data-hasbody="true" data-macro-name="code" style="border-width: 1px;">
<div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>MarkupList Custom Component Outline</b></div>
<div class="codeContent panelContent pdl">
<script type="syntaxhighlighter" class="brush: xml; gutter: false; theme: Confluence"><![CDATA[&lt;component name = &quot;VODCategoriesList&quot; extends = &quot;MarkupList&quot; &gt;
  &lt;script type=&quot;text/brightscript&quot; &gt; 
    &lt;![CDATA[

    sub init() 
      m.top.itemComponentName = &quot;VODCategoriesListItem&quot; 
      m.top.itemSize = [ 294, 148 ] 
      m.top.itemSpacing = [ 0, 10 ] 
      m.top.drawFocusFeedback = false 
      m.top.vertFocusAnimationStyle = &quot;floatingFocus&quot; 
    end sub

    ]]&gt; 
  &lt;/script&gt;

&lt;/component&gt;]]></script>
</div>
</div>
<p><a href="https://sdkdocs.roku.com/download/attachments/1608507/MarkupList.zip?version=2&amp;modificationDate=1455910529760&amp;api=v2" data-linked-resource-id="4259964" data-linked-resource-version="2" data-linked-resource-type="attachment" data-linked-resource-default-alias="MarkupList.zip" data-nice-type="Zip Archive" data-linked-resource-content-type="application/zip" data-linked-resource-container-id="1608507" data-linked-resource-container-version="16">MarkupList.zip</a> is an example application of the completed custom list configuration. In the example application, note that the file <code>markuplistcontent.xml</code> is the <strong>ContentNode</strong> node component that supplies the data to populate the list; normally this data would be in a XML/JSON file that would be downloaded from your server to the application and converted to a <strong>ContentNode</strong> node using a <strong>Task</strong> node (or equivalent). Also note that the icon and poster files are included in the package <code>images</code> directory, rather than your server, and the <code>markuplistscene.xml</code> is only provided to allow the example to run as a standalone application.</p>
<p>Once you have developed the custom components, you can write a program flow in the <strong>Scene</strong> node to create/remove, make visible/invisible, and set the remote control key focus on the custom components as needed.</p>
<h2 id="ControllingScreenProgramFlow-CustomComponentProgramFlowExamples">Custom Component Program Flow Examples</h2>
<p>For an example application that uses three custom components, and creates and sets focus on the custom components as needed in reaction to user input in an <strong>OverhangPanelSetScene</strong> node, see <a href="Creating+Sliding+Panels.html#CreatingSlidingPanels-SlidingPanelsExample"><strong>Sliding Panels Example</strong></a>.</p>
<p>There are two more examples that allow users to select and play videos from a custom <strong>RowList</strong> node:</p>
<ul>
<li><a href="https://sdkdocs.roku.com/download/attachments/1608528/Simple_Grid_and_Video.zip?version=1&amp;modificationDate=1455808727252&amp;api=v2" data-linked-resource-id="4259949" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="Simple_Grid_and_Video.zip" data-nice-type="Zip Archive" data-linked-resource-content-type="application/zip" data-linked-resource-container-id="1608528" data-linked-resource-container-version="14">Simple_Grid_and_Video.zip</a></li>
<li><a href="https://sdkdocs.roku.com/download/attachments/1608528/Simple_Grid_with_Details_and_Video.zip?version=1&amp;modificationDate=1455808787602&amp;api=v2" data-linked-resource-id="4259950" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="Simple_Grid_with_Details_and_Video.zip" data-nice-type="Zip Archive" data-linked-resource-content-type="application/zip" data-linked-resource-container-id="1608528" data-linked-resource-container-version="14">Simple_Grid_with_Details_and_Video.zip</a></li>
</ul>
<p>These examples download and convert a MRSS XML feed containing all the data for the application to a <strong>ContentNode</strong> node field added to the <strong>Scene</strong> node <strong>&lt;interface&gt;</strong> element. In this case, the data for the application is downloaded and converted in the <code>source/main.brs</code> file after the application <strong>Scene</strong> node is created but before it is shown, rather than using a <strong>Task</strong> node in the actual Scene Graph application.</p>
<p> </p>

                
        
    
        </div>

        <!--
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
         xmlns:dc="http://purl.org/dc/elements/1.1/"
         xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
         <rdf:Description
    rdf:about="https://sdkdocs.roku.com/display/sdkdoc/Controlling+Screen+Program+Flow"
    dc:identifier="https://sdkdocs.roku.com/display/sdkdoc/Controlling+Screen+Program+Flow"
    dc:title="Controlling Screen Program Flow"
    trackback:ping="https://sdkdocs.roku.com/rpc/trackback/1608507"/>
</rdf:RDF>
-->

            
    



<div id="labels-section" class="pageSection group">
    <div class="labels-section-content content-column" entityid="1608507" entitytype="page">
	<div class="labels-content">
		
    <ul class="label-list label-list-right ">
            <li class="no-labels-message">
            No labels
        </li>
            </ul>

    </div>
</div>
</div>

            
            




            
    








                        
    
<div id="comments-section" class="pageSection group">
        
    



</div>


            
</div>


    




    
    

    
    
    








</div>
  
    </div>
</div>


        
            
            



    </div>
</body>
</html>
