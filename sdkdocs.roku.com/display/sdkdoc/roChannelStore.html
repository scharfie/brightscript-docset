<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>roChannelStore - Roku SDK Documentation - Developer Documentation</title>

        

                        
    
                        
    
                        
    

    <meta http-equiv="X-UA-Compatible" content="IE=EDGE,chrome=IE7">
<meta charset="UTF-8">
<meta id="confluence-context-path" name="confluence-context-path" content="">
<meta id="confluence-base-url" name="confluence-base-url" content="https://sdkdocs.roku.com">

<meta id="atlassian-token" name="atlassian-token" content="21a1f5b8620aee26e9099af2a2cb30f0bd6a3b67">


<meta id="confluence-space-key" name="confluence-space-key" content="sdkdoc">


    

    <meta name="confluence-request-time" content="1458566899686">
        
    
        
            <meta name="ajs-is-space-admin" content=""> <meta name="ajs-has-space-config" content="">
            <meta name="ajs-use-keyboard-shortcuts" content="true">
            <meta name="ajs-discovered-plugin-features" content="$discoveredList">
            <meta name="ajs-keyboardshortcut-hash" content="6f3f47137c1b3ed14b1e16e051694721">
            <meta name="ajs-is-confluence-admin" content="false">
            <meta name="ajs-connection-timeout" content="10000">
            
    
    
            <meta name="ajs-page-id" content="1611536">
            <meta name="ajs-latest-page-id" content="1611536">
            <meta name="ajs-content-type" content="page">
            <meta name="ajs-page-title" content="roChannelStore">
            <meta name="ajs-parent-page-title" content="Components">
            <meta name="ajs-parent-page-id" content="1611396">
            <meta name="ajs-space-key" content="sdkdoc">
            <meta name="ajs-space-name" content="Roku SDK Documentation">
            <meta name="ajs-from-page-title" content="">
            <meta name="ajs-can-remove-page" content="false">
            <meta name="ajs-context-path" content="">
            <meta name="ajs-base-url" content="https://sdkdocs.roku.com">
            <meta name="ajs-version-number" content="5.9.1-OD-65-062">
            <meta name="ajs-build-number" content="6150">
            <meta name="ajs-remote-user" content="">
            <meta name="ajs-remote-user-key" content="">
            <meta name="ajs-current-user-fullname" content="">
            <meta name="ajs-current-user-avatar-url" content="">
            <meta name="ajs-static-resource-url-prefix" content="/s/en_GB/6150/5f41c4ff85fd86016ba4c6b8a1bbb6bc9b81bcc3.31/_">
            <meta name="ajs-global-settings-attachment-max-size" content="10485760">
            <meta name="ajs-user-locale" content="en_GB">
            <meta name="ajs-enabled-dark-features" content="clc.quick.create,confluence-inline-comments-resolved,notification.plugin.api.enabled.com.atlassian.confluence.plugins.sharepage.api.ShareContentEvent,notification.plugin.api.enabled.com.atlassian.confluence.plugins.mentions.api.ConfluenceMentionEvent,notification.plugin.api.enabled.com.atlassian.confluence.event.events.security.ForgotPasswordEvent,pdf-preview,notification.plugin.api.enabled.com.atlassian.confluence.plugins.tasklist.event.SendTaskEmailEvent,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.page.async.PageMovedEvent,previews.sharing,previews.versions,notification.plugin.api.enabled.com.atlassian.confluence.plugins.files.notifications.event.FileContentUpdateEvent,file-annotations,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.attachment.AttachmentBatchUploadCompletedEvent,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.comment.CommentCreateEvent,notification.plugin.api.enabled.com.atlassian.confluence.efi.emails.events.OnboardingLessUsersEvent,notification.plugin.api.enabled.com.atlassian.confluence.plugins.files.notifications.event.FileContentRemoveEvent,confluence.wrap.macro,atlassian.aui.raphael.disabled,previews.conversion-service,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.comment.CommentUpdateEvent,notification.plugin.api.enabled.com.atlassian.confluence.event.events.follow.FollowEvent,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.page.async.PageEditedEvent,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.blogpost.BlogPostCreateEvent,previews.trigger-all-file-types,notification.plugin.api.enabled.com.atlassian.confluence.plugins.inlinecomments.events.InlineCommentResolveEvent,notification.plugin.api.enabled.com.atlassian.confluence.event.events.like.LikeCreatedEvent,notification.plugin.api.enabled.com.atlassian.confluence.plugins.inlinecomments.events.InlineCommentCreateEvent,previews.sharing.pushstate,confluence-inline-comments-rich-editor,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.blogpost.BlogPostUpdateEvent,file-annotations.likes,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.page.async.PageCreatedEvent,notification.plugin.api.enabled.com.atlassian.confluence.plugins.files.notifications.event.FileContentMentionUpdateEvent,notification.plugin.api.enabled.com.atlassian.confluence.efi.emails.events.OnboardingNoSpaceCreatedEvent,notification.plugin.api.enabled.com.atlassian.confluence.plugins.hipchat.api.events.HipChatUserMapped,notification.plugin.api.enabled.com.atlassian.confluence.plugins.sharepage.api.ShareAttachmentEvent,confluence-inline-comments,quick-reload-inline-comments-flags,confluence-inline-comments-dangling-comment,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.blogpost.BlogPostMovedEvent">
            <meta name="ajs-atl-token" content="21a1f5b8620aee26e9099af2a2cb30f0bd6a3b67">
            <meta name="ajs-confluence-flavour" content="VANILLA">
            <meta name="ajs-user-date-pattern" content="dd MMM yyyy">
            <meta name="ajs-date.format" content="MMM dd, yyyy">
    
    <link rel="shortcut icon" href="../../s/en_GB/6150/5f41c4ff85fd86016ba4c6b8a1bbb6bc9b81bcc3.31/_/favicon.ico">
    <link rel="icon" type="image/x-icon" href="../../s/en_GB/6150/5f41c4ff85fd86016ba4c6b8a1bbb6bc9b81bcc3.31/_/favicon.ico">

<link rel="search" type="application/opensearchdescription+xml" href="https://sdkdocs.roku.com/opensearch/osd.action" title="Developer Documentation">


<link type="text/css" rel="stylesheet" href="../../s/c0b179288d335d9e912667cdb75fb8d2-CDN/en_GB/6150/5f41c4ff85fd86016ba4c6b8a1bbb6bc9b81bcc3.31/9/_/download/superbatch/css/batch.css%3Fbuild-number=6150.css" media="all">
<!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/6150/5f41c4ff85fd86016ba4c6b8a1bbb6bc9b81bcc3.31/9/_/download/superbatch/css/batch.css?conditionalComment=lt+IE+9" media="all">
<![endif]-->
<!--[if lte IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/6150/5f41c4ff85fd86016ba4c6b8a1bbb6bc9b81bcc3.31/9/_/download/superbatch/css/batch.css?conditionalComment=lte+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="../../s/d375ee99916b6b096207b53cf4260ab0-CDN/en_GB/6150/5f41c4ff85fd86016ba4c6b8a1bbb6bc9b81bcc3.31/97a922b416cbe43cf83e5c5ab531a613/_/download/contextbatch/css/atl.confluence.plugins.pagetree-desktop,main,viewcontent,page,atl.general,atl.comments/batch.css%3Fhighlightactions=true&amp;flavour=VANILLA&amp;custom-site-logo=true.css" media="all">
<!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/6150/5f41c4ff85fd86016ba4c6b8a1bbb6bc9b81bcc3.31/97a922b416cbe43cf83e5c5ab531a613/_/download/contextbatch/css/atl.confluence.plugins.pagetree-desktop,main,viewcontent,page,atl.general,atl.comments/batch.css?conditionalComment=lt+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="../../s/35e02545dc3a2fc430eccbb927fe7227-CDN/en_GB/6150/5f41c4ff85fd86016ba4c6b8a1bbb6bc9b81bcc3.31/96ff7b4cb8d7e0cf3843a298eef90d7a/_/download/contextbatch/css/theme.doc/batch.css" media="all">
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/6150/5f41c4ff85fd86016ba4c6b8a1bbb6bc9b81bcc3.31/2.1.8/_/download/batch/com.atlassian.confluence.ext.newcode-macro-plugin:syntaxhighlighter/com.atlassian.confluence.ext.newcode-macro-plugin:syntaxhighlighter.css" media="all">
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/6150/5f41c4ff85fd86016ba4c6b8a1bbb6bc9b81bcc3.31/2.1.8/_/download/batch/com.atlassian.confluence.ext.newcode-macro-plugin:sh-theme-confluence/com.atlassian.confluence.ext.newcode-macro-plugin:sh-theme-confluence.css" media="all">
<link type="text/css" rel="stylesheet" href="../../s/en_GB/6150/5f41c4ff85fd86016ba4c6b8a1bbb6bc9b81bcc3.31/31/_/styles/colors.css" media="all">
<script type="text/javascript" src="../../s/a72faf4a376b855acc1dc1b5e40829cb-CDN/en_GB/6150/5f41c4ff85fd86016ba4c6b8a1bbb6bc9b81bcc3.31/9/_/download/superbatch/js/batch.js%3Fatlassian.aui.raphael.disabled=true&amp;locale=en-GB&amp;build-number=6150"></script>
<script type="text/javascript" src="../../s/fd3d085a9edff5a756d242bf1bc14976-CDN/en_GB/6150/5f41c4ff85fd86016ba4c6b8a1bbb6bc9b81bcc3.31/97a922b416cbe43cf83e5c5ab531a613/_/download/contextbatch/js/atl.confluence.plugins.pagetree-desktop,main,viewcontent,page,atl.general,atl.comments/batch.js%3Fanalytics-uploadable=true&amp;highlightactions=true&amp;flavour=VANILLA&amp;analytics-enabled=true&amp;locale=en-GB&amp;anonymous-access-enabled=true&amp;is-server-instance=true&amp;hostenabled=true"></script>
<script type="text/javascript" src="../../s/6c0981174e94142364564819dc0d1413-CDN/en_GB/6150/5f41c4ff85fd86016ba4c6b8a1bbb6bc9b81bcc3.31/96ff7b4cb8d7e0cf3843a298eef90d7a/_/download/contextbatch/js/theme.doc/batch.js%3Flocale=en-GB"></script>
<script type="text/javascript" src="../../s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/6150/5f41c4ff85fd86016ba4c6b8a1bbb6bc9b81bcc3.31/2.1.8/_/download/batch/com.atlassian.confluence.ext.newcode-macro-plugin:syntaxhighlighter/com.atlassian.confluence.ext.newcode-macro-plugin:syntaxhighlighter.js"></script>
<script type="text/javascript" src="../../s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/6150/5f41c4ff85fd86016ba4c6b8a1bbb6bc9b81bcc3.31/2.1.8/_/download/batch/com.atlassian.confluence.ext.newcode-macro-plugin:syntaxhighlighter-brushes/com.atlassian.confluence.ext.newcode-macro-plugin:syntaxhighlighter-brushes.js"></script>
<script type="text/javascript" src="../../s/6c0981174e94142364564819dc0d1413-CDN/en_GB/6150/5f41c4ff85fd86016ba4c6b8a1bbb6bc9b81bcc3.31/2.1.8/_/download/batch/com.atlassian.confluence.ext.newcode-macro-plugin:syntaxhighlighter-init/com.atlassian.confluence.ext.newcode-macro-plugin:syntaxhighlighter-init.js%3Flocale=en-GB"></script>


        
    

        
        <meta name="ajs-site-title" content="Developer Documentation">

    
    

<!-- Google Tag Manager -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WZTPN7" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>

<!-- End Google Tag Manager -->

<!-- New Relic -->

<!-- End New Relic -->

    
                <link rel="canonical" href="roChannelStore.html">
        <link rel="shortlink" href="https://sdkdocs.roku.com/x/EJcY">
    <meta name="wikilink" content="[sdkdoc:roChannelStore]">
    <meta name="page-version" content="13">

</head>

<body onload="placeFocus()" id="com-atlassian-confluence" class="theme-documentation  aui-theme-default aui-layout">

        
            <div id="stp-licenseStatus-banner"></div>
    <div id="full-height-container">
    <div id="header-precursor">
        
                    </div>







<header id="header" role="banner">
    <nav class="aui-header aui-dropdown2-trigger-group" role="navigation"><div class="aui-header-inner"><div class="aui-header-primary">
<h1 id="logo" class="aui-header-logo aui-header-logo-custom"><a href="../sdkdoc.1.html"><img src="https://sdkdocs.roku.com/download/attachments/524289/atl.site.logo?version=2&amp;modificationDate=1440675577312&amp;api=v2" alt="Developer Documentation"><span class="aui-header-logo-text">Developer Documentation</span></a></h1>
<ul class="aui-nav">
                            <li>
            
        
        
<a id="space-directory-link" href="https://sdkdocs.roku.com/spacedirectory/view.action" class=" aui-nav-imagelink" title="Spaces">
            <span>Spaces</span>
    </a>
        </li>
                            <li id="browseMenu" role="menu">
            
    
        <a id="browse-menu-link" class="aui-nav-link aui-dropdown2-trigger" href="roChannelStore.html#" aria-haspopup="true" aria-owns="browse-menu-link-content" title="Browse">
        <span class="browse">Browse</span>
    </a>
    <nav id="browse-menu-link-content" class="aui-dropdown2 aui-style-default" aria-hidden="true">
                    <div class="aui-dropdown2-section">
                                <ul id="browse-menu-link-leading" class="aui-list-truncate section-leading first">
                                            <li>
    
            
<a id="space-pages-link" href="https://sdkdocs.roku.com/pages/listpages.action?key=sdkdoc" class="    " title="Browse pages in the Roku SDK Documentation space">
        Pages
</a>
</li>
                                            <li>
    
            
<a id="space-blogposts-link" href="https://sdkdocs.roku.com/pages/viewrecentblogposts.action?key=sdkdoc" class="    " title="Browse blogs in the Roku SDK Documentation space">
        Blog
</a>
</li>
                                            <li>
    
            
<a id="space-labels-link" href="https://sdkdocs.roku.com/labels/listlabels-heatmap.action?key=sdkdoc" class="    " title="Browse labels in the Roku SDK Documentation space">
        Labels
</a>
</li>
                                            <li>
    
            
<a id="space-advanced-link" href="https://sdkdocs.roku.com/spaces/viewspacesummary.action?key=sdkdoc" class="    " title="Browse additional space functions in the Roku SDK Documentation space">
        Space Operations
</a>
</li>
                                    </ul>
            </div>
            </nav>
    
        </li>
                        <li class="aui-buttons">
            </li>
    </ul>
</div></div>
<!-- .aui-header-inner--></nav><!-- .aui-header -->
    <br class="clear">
</header>

    <div id="splitter">
    <div id="splitter-sidebar" class="padding-div">
        

                    
    






            </div>
    <div id="splitter-content">

        

                        
            
<div id="main" class="aui-page-panel">
    <div id="main-header">
        
        
    

        
                <div id="title-heading" class="pagetitle with-breadcrumbs">
        
                                        
                            <div id="breadcrumb-section">
                    
    
    
    <ol id="breadcrumbs">
                                        
                        
        <li class="first">
                        
                            <span class=""><a href="../sdkdoc.1.html">Roku SDK Documentation</a></span>
                                                                                            </li>
<li id="ellipsis" title="Show all breadcrumbs"><span><strong>…</strong></span></li>
                                                
                        
        <li class="hidden-crumb">
                        
                            <span class=""><a href="../sdkdoc.1.html">Roku SDK Documentation</a></span>
                                                                                    
                        
        </li>
<li class="hidden-crumb">
                        
                            <span class=""><a href="BrightScript+Component+Reference.html">BrightScript Component Reference</a></span>
                                                                    
                        
        </li>
<li>
                        
                            <span class=""><a href="Components.html">Components</a></span>
                                                    </li>
</ol>


                </div>
            
            <h1 id="title-text" class="with-breadcrumbs">
                                        <a href="roChannelStore.html">roChannelStore</a>
                            </h1>
        </div>
    </div>

    

    
    
    
    
    

        




        













    
    
        
    
    
                    
    

    


<div id="content" class="page view">
    


<div id="action-messages">
                        </div>



        


        
    
    
        <fieldset class="hidden parameters">
            <input type="hidden" title="parentPageId" value="1611396">
        </fieldset>

                            
    

                    

        
        <a href="roChannelStore.html#page-metadata-end" class="assistive">Skip to end of metadata</a>
<div id="page-metadata-start" class="assistive"></div>

    <div class="page-metadata">
        <ul>
                            <li class="page-metadata-item noprint">

    
            
                                            
    
    
    <a id="content-metadata-page-restrictions-hidden" href="roChannelStore.html#" rel="nofollow" class="hidden" title="Unrestricted">
                <span>
                        
        </span>    </a>
</li>
                        <li class="page-metadata-modification-info">
                
        
    
        
    
        
            
            Created by <span class="author">     <a href="../~jbush.html" class="url fn">Jeff Bush</a></span>, last modified by <span class="editor">     <a href="../~kphillips.html" class="url fn">Kevin Phillips</a></span> on <a class="last-modified" title="Show changes" href="https://sdkdocs.roku.com/pages/diffpagesbyversion.action?pageId=1611536&amp;selectedPageVersions=12&amp;selectedPageVersions=13">Mar 11, 2016</a>
                </li>
        </ul>
    </div>


<a href="roChannelStore.html#page-metadata-start" class="assistive">Go to start of metadata</a>
<div id="page-metadata-end" class="assistive"></div>

        
        <fieldset class="hidden parameters">
                        <input type="hidden" title="browsePageTreeMode" value="view">
        </fieldset>

        <div id="main-content" class="wiki-content">
                           
        <h2 id="roChannelStore-SupportedInterfaces">Supported Interfaces</h2>
<ul>
<li><a href="ifChannelStore.html">ifChannelStore</a></li>
<li><a href="ifSourceIdentity.html">ifSourceIdentity</a></li>
<li><a class="external-link" href="ifSetMessagePort.html" rel="nofollow">ifSetMessagePort</a></li>
<li><a class="external-link" href="ifGetMessagePort.html" rel="nofollow">ifGetMessagePort</a></li>
</ul>
<h2 id="roChannelStore-SupportedEvents">Supported Events</h2>
<ul><li><a href="roChannelStoreEvent.html">roChannelStoreEvent</a></li></ul>
<h2 id="roChannelStore-Description">Description</h2>
<p>The roChannelStore component allows the application to perform a purchase of an In-Channel Product or upgrade a channel.  Most of the purchase flow, screens and messaging associated with the financial transaction are handled by the firmware outside of control or monitoring by Brightscript code.  The Brightscript code merely initiates the purchase and receives a final result.  This will engender trust with users and give them confidence that they are dealing with the Roku Channel Store.</p>
<p>The roChannelStore component allows purchasing only those In-Channel Products which are associated with the running channel.  Please see the <a href="https://sdkdocs.roku.com/pages/viewpage.action?pageId=3736148#RokuBillingandIn-ChannelPurchasing(Sincev4.3)-AddanIn-ChannelDigitalProduct">Add an In-Channel Digital Product </a>section of <a href="Channel+Packaging+And+Publishing.html">Channel Packaging And Publishing</a> for details on how to create an In-Channel Product and associate it with a channel.  After one or Products are created, GetCatalog() can be used to retrieve a list of Products and their attributes.  DoOrder() can be called to initiate a purchase of one or more of the Products.</p>
<p>The roChannelStore component also allows upgrading of the running channel.  When any channel is created, it can be associated with another channel, its "In-Channel Upgrade" channel.  Then GetUpgrade() can be called in the first channel to retrieve information about the upgrade, and DoUpgrade() can be called to initiate the purchase of the upgrade.  If the purchase is successful, the new channel is added and the old channel is automatically deleted.</p>
<p>Note that only a channel downloaded from the Channel Store can have an In-Channel Product or upgrade associated with it.  A side-loaded channel cannot have associated products or upgrades.<br> <br>The roChannelStore object has a FakeServer() method that will enable you to test the purchase flow scenarios without actually making a real transaction in the Roku channel store. This will be useful in the development of your channel, but should never be used in the actual channel you publish. <br> <br>This object is created without any arguments:</p>
<ul><li>CreateObject("roChannelStore")</li></ul>
<div class="code panel pdl conf-macro output-block" data-hasbody="true" data-macro-name="code" style="border-width: 1px;">
<div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>Example</b></div>
<div class="codeContent panelContent pdl">
<script type="syntaxhighlighter" class="brush: java; gutter: false; theme: Confluence"><![CDATA[&#39; Using the channel store to perform an in-channel upgrade
store = CreateObject(&quot;roChannelStore&quot;)
msgport = CreateObject(&quot;roMessagePort&quot;)
store.SetMessagePort(msgport)
upgrade = invalid
store.GetUpgrade() &#39; Get upgrade info from store
&#39; Wait for upgrade info to be returned
while true
    msg = wait(1000, msgport)
    if type(msg) = &quot;roChannelStoreEvent&quot; then
        if msg.IsRequestSucceeded() then
            items = msg.GetResponse()
            if items &lt;&gt; invalid and items.count() &gt; 0 then upgrade = items[0] &#39; got it
            exit while
        elseif msg.IsRequestFailed() then
            print &quot;channel store req failed: &quot;;msg.GetStatusMessage()
            exit while
        end if
    end if
    if timer.TotalMilliseconds() &gt; 8000 then 
        print &quot;Channel Store timeout&quot;
        exit while
    end if
end while

if upgrade = invalid then
	print &quot;no upgrade available&quot;
else
	print &quot;upgrade cost &quot;; upgrade.cost()
	purchase = store.DoUpgrade()
	if purchase = invalid or purchase = &quot;&quot; then
	    print &quot;upgrade failed&quot;
	else
	    print &quot;upgrade succeeded: item &quot;; purchase
	end if
end if]]></script>
</div>
</div>
<p> </p>
<h1 id="roChannelStore-WebServiceAPI">Web Service API</h1>
<p>This section describes the web service APIs developers use to connect to the Channel Store.  These API calls are all located on apipub (<a class="external-link" href="http://apipub.roku.com/" rel="nofollow">http://apipub.roku.com/</a>) to remove the need of having a roku certificate to use them. Each of the APIs is documented below in its own section with the title <strong>apiname.svc</strong>.  Requests with a body require a POST method, content-type: application/xml, and content-Length: &lt;length&gt; headers.</p>
<p> </p>
<h2 id="roChannelStore-BaseResponseData">BaseResponseData</h2>
<p>All responses to all services derive from BaseReponseData.  The base response is structured as follows:</p>
<p>&lt;result&gt;</p>
<p>  &lt;status&gt;Success&lt;/status&gt;  &lt;!—Success/Failure --&gt;</p>
<p>  &lt;errorMessage&gt;{error message goes here}&lt;/errorMessage&gt;</p>
<p>  &lt;errorDetails&gt;{Details of error go here}&lt;/errorDetails&gt;</p>
<p>  &lt;errorCode&gt;{non-localized error code to key on for specific functions}&lt;/errorCode&gt;</p>
<p>&lt;/result&gt;</p>
<h1 id="roChannelStore-transaction-service.svc">transaction-service.svc</h1>
<p>The transaction service allows developers to validate transactions and modify channel state remotely.  All requests require a developerId to validate which can be retrieved from the owner site</p>
<h4 id="roChannelStore-/listen/transaction-service.svc/validate-transaction/{devtoken}/{transactionid}">/listen/transaction-service.svc/validate-transaction/{devtoken}/{transactionid}</h4>
<p>Validates a transaction that was returned from a channel or product purchase in the channel store</p>
<h5 id="roChannelStore-Response">Response</h5>
<p>&lt;result&gt;</p>
<p>  &lt;transactionId&gt;{transactionid}&lt;/transactionId&gt;</p>
<p>  &lt;purchaseDate&gt;2012-07-22T14:59:50&lt;/purchaseDate&gt;</p>
<p>  &lt;channelName&gt;123Video&lt;/channelName&gt;</p>
<p>  &lt;productName&gt;123Video Monthly Subscription&lt;/productName&gt;</p>
<p>  &lt;productId&gt;NETMONTH&lt;/productId&gt;</p>
<p>  &lt;amount&gt;9.99&lt;/amount&gt;</p>
<p>  &lt;currency&gt;USD&lt;/currency&gt;</p>
<p>  &lt;quantity&gt;1&lt;/quantity&gt;</p>
<p>  &lt;expirationDate&gt;2012-08-22T14:59:50&lt;/expirationDate&gt;</p>
<p>  &lt;originalPurchaseDate&gt;2010-08-22T14:59:50&lt;/originalPurchaseDate&gt;</p>
<p>  &lt;status&gt;Success&lt;/status&gt;  &lt;!—Success/Failure --&gt;</p>
<p>  &lt;errorMessage&gt;{error message goes here}&lt;/errorMessage&gt;</p>
<p>&lt;/result&gt;</p>
<p> </p>
<h4 id="roChannelStore-/listen/transaction-service.svc/validate-refund/{devtoken}/{refundId}">/listen/transaction-service.svc/validate-refund/{devtoken}/{refundId}</h4>
<p>Validates a transaction that was returned from a channel or product purchase in the channel store</p>
<h5 id="roChannelStore-Response.1">Response</h5>
<p>&lt;result&gt;</p>
<p>  &lt;transactionId&gt;{transactionid}&lt;/transactionId&gt;</p>
<p>  &lt;purchaseDate&gt;2012-07-22T14:59:50&lt;/purchaseDate&gt;</p>
<p>  &lt;channelName&gt;123Video&lt;/channelName&gt;</p>
<p>  &lt;productName&gt;123Video Monthly Subscription&lt;/productName&gt;</p>
<p>  &lt;productId&gt;NETMONTH&lt;/productId&gt;</p>
<p>  &lt;amount&gt;9.99&lt;/amount&gt;</p>
<p>  &lt;currency&gt;USD&lt;/currency&gt;</p>
<p>  &lt;quantity&gt;1&lt;/quantity&gt;</p>
<p>  &lt;expirationDate&gt;2012-08-22T14:59:50&lt;/expirationDate&gt;</p>
<p>  &lt;originalPurchaseDate&gt;2010-08-22T14:59:50&lt;/originalPurchaseDate&gt;</p>
<p>  &lt;status&gt;Success&lt;/status&gt;  &lt;!—Success/Failure à</p>
<p>  &lt;errorMessage&gt;{error message goes here}&lt;/errorMessage&gt;</p>
<p>&lt;/result&gt;</p>
<p> </p>
<p> </p>
<h4 id="roChannelStore-/listen/transaction-service.svc/cancel-subscription">/ listen /transaction-service.svc/cancel-subscription</h4>
<p>Cancels the subscription that corresponds to the transactionId.  The channel associated with the id must be owned by the developer associated with devtoken.</p>
<p> </p>
<h5 id="roChannelStore-Request">Request</h5>
<p>&lt;cancel&gt;</p>
<p>   &lt;partnerAPIKey&gt;{apikey}&lt;/partnerAPIKey&gt;</p>
<p>   &lt;transactionId&gt;{transactionId}&lt;/transactionId&gt;</p>
<p>   &lt;cancellationDate&gt;2012-08-22T14:59:50&lt;/cancellationDate&gt;</p>
<p>   &lt;partnerReferenceId&gt;{partnerReferenceId}&lt;/partnerReferenceId&gt;</p>
<p>&lt;/cancel&gt;</p>
<p> </p>
<h5 id="roChannelStore-Response.2">Response</h5>
<p>&lt;result&gt;</p>
<p>  &lt;status&gt;Success&lt;/status&gt;  &lt;!—Success/Failure à</p>
<p>  &lt;errorMessage&gt;{error message goes here}&lt;/errorMessage&gt;</p>
<p>&lt;/result&gt;</p>
<p> </p>
<h4 id="roChannelStore-/listen/transaction-service.svc/refund-subscription">/ listen /transaction-service.svc/refund-subscription  </h4>
<p>Refunds the subscription that corresponds to the transactionId.  The channel associated with the id must be owned by the developer associated with devtoken.  A RefundId is returned to validate if needed at a later date</p>
<p>Requires a content-Length</p>
<h5 id="roChannelStore-Request.1">Request</h5>
<p>&lt;refund&gt;</p>
<p>   &lt;partnerAPIKey&gt;{apikey}&lt;/partnerAPIKey&gt;</p>
<p>   &lt;transactionId&gt;{transactionId}&lt;/transactionId&gt;</p>
<p>   &lt;amount&gt;2.99&lt;/amount&gt;</p>
<p>   &lt;partnerReferenceId&gt;{partnerReferenceId}&lt;/partnerReferenceId&gt;</p>
<p>   &lt;comments&gt;Customer was not impressed&lt;/comments&gt;</p>
<p>&lt;/refund&gt;</p>
<p> </p>
<h5 id="roChannelStore-Response.3">Response</h5>
<p>&lt;result&gt;</p>
<p>  &lt;status&gt;Success&lt;/status&gt;  &lt;!—Success/Failure à</p>
<p>  &lt;errorMessage&gt;{error message goes here}&lt;/errorMessage&gt;</p>
<p>  &lt;refundId&gt;{refundId}&lt;/refundId&gt;</p>
<p>&lt;/result&gt;</p>
<p> </p>

                
        
    
        </div>

        <!--
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
         xmlns:dc="http://purl.org/dc/elements/1.1/"
         xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
         <rdf:Description
    rdf:about="https://sdkdocs.roku.com/display/sdkdoc/roChannelStore"
    dc:identifier="https://sdkdocs.roku.com/display/sdkdoc/roChannelStore"
    dc:title="roChannelStore"
    trackback:ping="https://sdkdocs.roku.com/rpc/trackback/1611536"/>
</rdf:RDF>
-->

            
    



<div id="labels-section" class="pageSection group">
    <div class="labels-section-content content-column" entityid="1611536" entitytype="page">
	<div class="labels-content">
		
    <ul class="label-list label-list-right ">
            <li class="no-labels-message">
            No labels
        </li>
            </ul>

    </div>
</div>
</div>

            
            




            
    








                        
    
<div id="comments-section" class="pageSection group">
        
    



</div>


            
</div>


    




    
    

    
    
    








</div>
  
    </div>
</div>


        
            
            



    </div>
</body>
</html>
