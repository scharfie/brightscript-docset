<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Web Service API - Roku SDK Documentation - Developer Documentation</title>

        

                        
    
                        
    
                        
    

    <meta http-equiv="X-UA-Compatible" content="IE=EDGE,chrome=IE7">
<meta charset="UTF-8">
<meta id="confluence-context-path" name="confluence-context-path" content="">
<meta id="confluence-base-url" name="confluence-base-url" content="https://sdkdocs.roku.com">

<meta id="atlassian-token" name="atlassian-token" content="21a1f5b8620aee26e9099af2a2cb30f0bd6a3b67">


<meta id="confluence-space-key" name="confluence-space-key" content="sdkdoc">


    

    <meta name="confluence-request-time" content="1458567007194">
        
    
        
            <meta name="ajs-is-space-admin" content=""> <meta name="ajs-has-space-config" content="">
            <meta name="ajs-use-keyboard-shortcuts" content="true">
            <meta name="ajs-discovered-plugin-features" content="$discoveredList">
            <meta name="ajs-keyboardshortcut-hash" content="6f3f47137c1b3ed14b1e16e051694721">
            <meta name="ajs-is-confluence-admin" content="false">
            <meta name="ajs-connection-timeout" content="10000">
            
    
    
            <meta name="ajs-page-id" content="1611458">
            <meta name="ajs-latest-page-id" content="1611458">
            <meta name="ajs-content-type" content="page">
            <meta name="ajs-page-title" content="Web Service API">
            <meta name="ajs-parent-page-title" content="Roku SDK Documentation">
            <meta name="ajs-parent-page-id" content="1611307">
            <meta name="ajs-space-key" content="sdkdoc">
            <meta name="ajs-space-name" content="Roku SDK Documentation">
            <meta name="ajs-from-page-title" content="">
            <meta name="ajs-can-remove-page" content="false">
            <meta name="ajs-context-path" content="">
            <meta name="ajs-base-url" content="https://sdkdocs.roku.com">
            <meta name="ajs-version-number" content="5.9.1-OD-65-062">
            <meta name="ajs-build-number" content="6150">
            <meta name="ajs-remote-user" content="">
            <meta name="ajs-remote-user-key" content="">
            <meta name="ajs-current-user-fullname" content="">
            <meta name="ajs-current-user-avatar-url" content="">
            <meta name="ajs-static-resource-url-prefix" content="/s/en_GB/6150/5f41c4ff85fd86016ba4c6b8a1bbb6bc9b81bcc3.31/_">
            <meta name="ajs-global-settings-attachment-max-size" content="10485760">
            <meta name="ajs-user-locale" content="en_GB">
            <meta name="ajs-enabled-dark-features" content="clc.quick.create,confluence-inline-comments-resolved,notification.plugin.api.enabled.com.atlassian.confluence.plugins.sharepage.api.ShareContentEvent,notification.plugin.api.enabled.com.atlassian.confluence.plugins.mentions.api.ConfluenceMentionEvent,notification.plugin.api.enabled.com.atlassian.confluence.event.events.security.ForgotPasswordEvent,pdf-preview,notification.plugin.api.enabled.com.atlassian.confluence.plugins.tasklist.event.SendTaskEmailEvent,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.page.async.PageMovedEvent,previews.sharing,previews.versions,notification.plugin.api.enabled.com.atlassian.confluence.plugins.files.notifications.event.FileContentUpdateEvent,file-annotations,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.attachment.AttachmentBatchUploadCompletedEvent,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.comment.CommentCreateEvent,notification.plugin.api.enabled.com.atlassian.confluence.efi.emails.events.OnboardingLessUsersEvent,notification.plugin.api.enabled.com.atlassian.confluence.plugins.files.notifications.event.FileContentRemoveEvent,confluence.wrap.macro,atlassian.aui.raphael.disabled,previews.conversion-service,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.comment.CommentUpdateEvent,notification.plugin.api.enabled.com.atlassian.confluence.event.events.follow.FollowEvent,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.page.async.PageEditedEvent,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.blogpost.BlogPostCreateEvent,previews.trigger-all-file-types,notification.plugin.api.enabled.com.atlassian.confluence.plugins.inlinecomments.events.InlineCommentResolveEvent,notification.plugin.api.enabled.com.atlassian.confluence.event.events.like.LikeCreatedEvent,notification.plugin.api.enabled.com.atlassian.confluence.plugins.inlinecomments.events.InlineCommentCreateEvent,previews.sharing.pushstate,confluence-inline-comments-rich-editor,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.blogpost.BlogPostUpdateEvent,file-annotations.likes,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.page.async.PageCreatedEvent,notification.plugin.api.enabled.com.atlassian.confluence.plugins.files.notifications.event.FileContentMentionUpdateEvent,notification.plugin.api.enabled.com.atlassian.confluence.efi.emails.events.OnboardingNoSpaceCreatedEvent,notification.plugin.api.enabled.com.atlassian.confluence.plugins.hipchat.api.events.HipChatUserMapped,notification.plugin.api.enabled.com.atlassian.confluence.plugins.sharepage.api.ShareAttachmentEvent,confluence-inline-comments,quick-reload-inline-comments-flags,confluence-inline-comments-dangling-comment,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.blogpost.BlogPostMovedEvent">
            <meta name="ajs-atl-token" content="21a1f5b8620aee26e9099af2a2cb30f0bd6a3b67">
            <meta name="ajs-confluence-flavour" content="VANILLA">
            <meta name="ajs-user-date-pattern" content="dd MMM yyyy">
            <meta name="ajs-date.format" content="MMM dd, yyyy">
    
    <link rel="shortcut icon" href="../../s/en_GB/6150/5f41c4ff85fd86016ba4c6b8a1bbb6bc9b81bcc3.31/_/favicon.ico">
    <link rel="icon" type="image/x-icon" href="../../s/en_GB/6150/5f41c4ff85fd86016ba4c6b8a1bbb6bc9b81bcc3.31/_/favicon.ico">

<link rel="search" type="application/opensearchdescription+xml" href="https://sdkdocs.roku.com/opensearch/osd.action" title="Developer Documentation">


<link type="text/css" rel="stylesheet" href="../../s/c0b179288d335d9e912667cdb75fb8d2-CDN/en_GB/6150/5f41c4ff85fd86016ba4c6b8a1bbb6bc9b81bcc3.31/9/_/download/superbatch/css/batch.css%3Fbuild-number=6150.css" media="all">
<!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/6150/5f41c4ff85fd86016ba4c6b8a1bbb6bc9b81bcc3.31/9/_/download/superbatch/css/batch.css?conditionalComment=lt+IE+9" media="all">
<![endif]-->
<!--[if lte IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/6150/5f41c4ff85fd86016ba4c6b8a1bbb6bc9b81bcc3.31/9/_/download/superbatch/css/batch.css?conditionalComment=lte+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/6150/5f41c4ff85fd86016ba4c6b8a1bbb6bc9b81bcc3.31/fb358127e94bd69e710c31c2f2ba1c43/_/download/contextbatch/css/toc-macro-client-impl/batch.css" media="all">
<link type="text/css" rel="stylesheet" href="../../s/d375ee99916b6b096207b53cf4260ab0-CDN/en_GB/6150/5f41c4ff85fd86016ba4c6b8a1bbb6bc9b81bcc3.31/97a922b416cbe43cf83e5c5ab531a613/_/download/contextbatch/css/atl.confluence.plugins.pagetree-desktop,main,viewcontent,page,atl.general,atl.comments/batch.css%3Fhighlightactions=true&amp;flavour=VANILLA&amp;custom-site-logo=true.css" media="all">
<!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/6150/5f41c4ff85fd86016ba4c6b8a1bbb6bc9b81bcc3.31/97a922b416cbe43cf83e5c5ab531a613/_/download/contextbatch/css/atl.confluence.plugins.pagetree-desktop,main,viewcontent,page,atl.general,atl.comments/batch.css?conditionalComment=lt+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="../../s/35e02545dc3a2fc430eccbb927fe7227-CDN/en_GB/6150/5f41c4ff85fd86016ba4c6b8a1bbb6bc9b81bcc3.31/96ff7b4cb8d7e0cf3843a298eef90d7a/_/download/contextbatch/css/theme.doc/batch.css" media="all">
<link type="text/css" rel="stylesheet" href="../../s/en_GB/6150/5f41c4ff85fd86016ba4c6b8a1bbb6bc9b81bcc3.31/31/_/styles/colors.css" media="all">
<script type="text/javascript" src="../../s/a72faf4a376b855acc1dc1b5e40829cb-CDN/en_GB/6150/5f41c4ff85fd86016ba4c6b8a1bbb6bc9b81bcc3.31/9/_/download/superbatch/js/batch.js%3Fatlassian.aui.raphael.disabled=true&amp;locale=en-GB&amp;build-number=6150"></script>
<script type="text/javascript" src="../../s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/6150/5f41c4ff85fd86016ba4c6b8a1bbb6bc9b81bcc3.31/fb358127e94bd69e710c31c2f2ba1c43/_/download/contextbatch/js/toc-macro-client-impl/batch.js"></script>
<script type="text/javascript" src="../../s/fd3d085a9edff5a756d242bf1bc14976-CDN/en_GB/6150/5f41c4ff85fd86016ba4c6b8a1bbb6bc9b81bcc3.31/97a922b416cbe43cf83e5c5ab531a613/_/download/contextbatch/js/atl.confluence.plugins.pagetree-desktop,main,viewcontent,page,atl.general,atl.comments/batch.js%3Fanalytics-uploadable=true&amp;highlightactions=true&amp;flavour=VANILLA&amp;analytics-enabled=true&amp;locale=en-GB&amp;anonymous-access-enabled=true&amp;is-server-instance=true&amp;hostenabled=true"></script>
<script type="text/javascript" src="../../s/6c0981174e94142364564819dc0d1413-CDN/en_GB/6150/5f41c4ff85fd86016ba4c6b8a1bbb6bc9b81bcc3.31/96ff7b4cb8d7e0cf3843a298eef90d7a/_/download/contextbatch/js/theme.doc/batch.js%3Flocale=en-GB"></script>


        
    

        
        <meta name="ajs-site-title" content="Developer Documentation">

    
    

<!-- Google Tag Manager -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WZTPN7" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>

<!-- End Google Tag Manager -->

<!-- New Relic -->

<!-- End New Relic -->

    
                <link rel="canonical" href="Web+Service+API.html">
        <link rel="shortlink" href="https://sdkdocs.roku.com/x/wpYY">
    <meta name="wikilink" content="[sdkdoc:Web Service API]">
    <meta name="page-version" content="11">

</head>

<body onload="placeFocus()" id="com-atlassian-confluence" class="theme-documentation  aui-theme-default aui-layout">

        
            <div id="stp-licenseStatus-banner"></div>
    <div id="full-height-container">
    <div id="header-precursor">
        
                    </div>







<header id="header" role="banner">
    <nav class="aui-header aui-dropdown2-trigger-group" role="navigation"><div class="aui-header-inner"><div class="aui-header-primary">
<h1 id="logo" class="aui-header-logo aui-header-logo-custom"><a href="../sdkdoc.1.html"><img src="https://sdkdocs.roku.com/download/attachments/524289/atl.site.logo?version=2&amp;modificationDate=1440675577312&amp;api=v2" alt="Developer Documentation"><span class="aui-header-logo-text">Developer Documentation</span></a></h1>
<ul class="aui-nav">
                            <li>
            
        
        
<a id="space-directory-link" href="https://sdkdocs.roku.com/spacedirectory/view.action" class=" aui-nav-imagelink" title="Spaces">
            <span>Spaces</span>
    </a>
        </li>
                            <li id="browseMenu" role="menu">
            
    
        <a id="browse-menu-link" class="aui-nav-link aui-dropdown2-trigger" href="Web+Service+API.html#" aria-haspopup="true" aria-owns="browse-menu-link-content" title="Browse">
        <span class="browse">Browse</span>
    </a>
    <nav id="browse-menu-link-content" class="aui-dropdown2 aui-style-default" aria-hidden="true">
                    <div class="aui-dropdown2-section">
                                <ul id="browse-menu-link-leading" class="aui-list-truncate section-leading first">
                                            <li>
    
            
<a id="space-pages-link" href="https://sdkdocs.roku.com/pages/listpages.action?key=sdkdoc" class="    " title="Browse pages in the Roku SDK Documentation space">
        Pages
</a>
</li>
                                            <li>
    
            
<a id="space-blogposts-link" href="https://sdkdocs.roku.com/pages/viewrecentblogposts.action?key=sdkdoc" class="    " title="Browse blogs in the Roku SDK Documentation space">
        Blog
</a>
</li>
                                            <li>
    
            
<a id="space-labels-link" href="https://sdkdocs.roku.com/labels/listlabels-heatmap.action?key=sdkdoc" class="    " title="Browse labels in the Roku SDK Documentation space">
        Labels
</a>
</li>
                                            <li>
    
            
<a id="space-advanced-link" href="https://sdkdocs.roku.com/spaces/viewspacesummary.action?key=sdkdoc" class="    " title="Browse additional space functions in the Roku SDK Documentation space">
        Space Operations
</a>
</li>
                                    </ul>
            </div>
            </nav>
    
        </li>
                        <li class="aui-buttons">
            </li>
    </ul>
</div></div>
<!-- .aui-header-inner--></nav><!-- .aui-header -->
    <br class="clear">
</header>

    <div id="splitter">
    <div id="splitter-sidebar" class="padding-div">
        

                    
    






            </div>
    <div id="splitter-content">

        

                        
            
<div id="main" class="aui-page-panel">
    <div id="main-header">
        
        
    

        
                <div id="title-heading" class="pagetitle with-breadcrumbs">
        
                                        
                            <div id="breadcrumb-section">
                    
    
    
    <ol id="breadcrumbs">
                                        
                        
        <li class="first">
                        
                            <span class=""><a href="../sdkdoc.1.html">Roku SDK Documentation</a></span>
                                                                    
                        
        </li>
<li>
                        
                            <span class=""><a href="../sdkdoc.1.html">Roku SDK Documentation</a></span>
                                                    </li>
</ol>


                </div>
            
            <h1 id="title-text" class="with-breadcrumbs">
                                        <a href="Web+Service+API.html">Web Service API</a>
                            </h1>
        </div>
    </div>

    

    
    
    
    
    

        




        













    
    
        
    
    
                    
    

    


<div id="content" class="page view">
    


<div id="action-messages">
                        </div>



        


        
    
    
        <fieldset class="hidden parameters">
            <input type="hidden" title="parentPageId" value="1611307">
        </fieldset>

                            
    

                    

        
        <a href="Web+Service+API.html#page-metadata-end" class="assistive">Skip to end of metadata</a>
<div id="page-metadata-start" class="assistive"></div>

    <div class="page-metadata">
        <ul>
                            <li class="page-metadata-item noprint">

    
            
                                            
    
    
    <a id="content-metadata-page-restrictions-hidden" href="Web+Service+API.html#" rel="nofollow" class="hidden" title="Unrestricted">
                <span>
                        
        </span>    </a>
</li>
                        <li class="page-metadata-modification-info">
                
        
    
        
    
        
            
            Created by <span class="author">     <a href="../~kphillips.html" class="url fn">Kevin Phillips</a></span>, last modified by <span class="editor">     <a href="../~rburdick.html" class="url fn">Robert Burdick</a></span> on <a class="last-modified" title="Show changes" href="https://sdkdocs.roku.com/pages/diffpagesbyversion.action?pageId=1611458&amp;selectedPageVersions=10&amp;selectedPageVersions=11">Dec 09, 2015</a>
                </li>
        </ul>
    </div>


<a href="Web+Service+API.html#page-metadata-start" class="assistive">Go to start of metadata</a>
<div id="page-metadata-end" class="assistive"></div>

        
        <fieldset class="hidden parameters">
                        <input type="hidden" title="browsePageTreeMode" value="view">
        </fieldset>

        <div id="main-content" class="wiki-content">
                           
        <hr>
<p></p>
<div class="toc-macro client-side-toc-macro  conf-macro output-block" data-csslistindent="18px" data-cssliststyle="square" data-hasbody="false" data-headerelements="H1,H2" data-macro-name="toc"> </div>
<hr>
<p>The following are the web service APIs you can use to connect to the Channel Store. These API calls are all located on <a class="external-link" href="https://apipub.roku.com/" rel="nofollow">apipub</a> (<a class="external-link" href="https://apipub.roku.com/" rel="nofollow">https://apipub.roku.com/</a>) to remove the need of having a Roku certificate to use them. Each of the APIs is documented below in its own section with a heading in the form of <strong><em>apiname</em>.svc</strong>.</p>
<p>You can use either XML or JSON format for your requests (the examples below use one or the other). </p>
<p>To use JSON, pass the following header in the request:</p>
<p style="margin-left: 30.0px;"><code>accept: application/json</code></p>
<p>To use XML, pass the following header in the request:</p>
<p style="margin-left: 30.0px;"><code>accept: text/xml</code></p>
<h1 id="WebServiceAPI-BaseResponseData">BaseResponseData</h1>
<p>All responses to all services derive from <code>BaseReponseData</code>. The base response is structured as follows:</p>
<p style="margin-left: 30.0px;"><code>&lt;result&gt;<br></code><code>  &lt;status&gt;{Success|Failure}&lt;/status&gt;<br>  </code><code>&lt;errorMessage&gt;<em>error_message</em>&lt;/errorMessage&gt;<br>  </code><code>&lt;errorDetails&gt;<em>error_details</em>&lt;/errorDetails&gt;<br>  </code><code>&lt;errorCode&gt;<em>non-localized_function_error_code</em>&lt;/errorCode&gt;<br></code><code>&lt;/result&gt;</code></p>
<h1 id="WebServiceAPI-transaction-service.svc">transaction-service.svc</h1>
<p>The transaction service allows developers to validate transactions and modify channel state remotely. All requests require a developer ID to validate which can be retrieved from the owner site.</p>
<h2 id="WebServiceAPI-/listen/transaction-service.svc/validate-transaction/{devtoken}/{transactionid}">/listen/<a rel="nofollow">transaction-service.svc/validate-transaction/{devtoken}/{transactionid</a>}</h2>
<p>Validates a transaction that was returned from a channel or product purchase in the channel store.</p>
<h3 id="WebServiceAPI-ResponseExample">Response Example</h3>
<p style="margin-left: 30.0px;"><code>&lt;result&gt;<br>  </code><code>&lt;transactionId&gt;{transactionid}&lt;/transactionId&gt;<br>  </code><code>&lt;purchaseDate&gt;2012-07-22T14:59:50&lt;/purchaseDate&gt;<br>  </code><code>&lt;channelName&gt;123Video&lt;/channelName&gt;<br>  </code><code>&lt;productName&gt;123Video Monthly Subscription&lt;/productName&gt;<br>  </code><code>&lt;productId&gt;NETMONTH&lt;/productId&gt;<br>  </code><code>&lt;amount&gt;9.99&lt;/amount&gt;<br>  </code><code>&lt;currency&gt;USD&lt;/currency&gt;<br>  </code><code>&lt;quantity&gt;1&lt;/quantity&gt;<br>  </code><code>&lt;expirationDate&gt;2012-08-22T14:59:50&lt;/expirationDate&gt;<br>  </code><code>&lt;originalPurchaseDate&gt;2010-08-22T14:59:50&lt;/originalPurchaseDate&gt;<br>  </code><code>&lt;status&gt;Success&lt;/status&gt;<br>  </code><code>&lt;errorMessage&gt;<em>error_message</em>&lt;/errorMessage&gt;<br></code><code>&lt;/result&gt;</code></p>
<h2 id="WebServiceAPI-/listen/transaction-service.svc/validate-refund/{devtoken}/{refundId}">/listen/<a rel="nofollow">transaction-service.svc/validate-refund/{devtoken}/{refundId</a>}</h2>
<p>Validates a transaction that was returned from a channel or product purchase in the channel store.</p>
<h3 id="WebServiceAPI-ResponseExample.1">Response Example</h3>
<p style="margin-left: 30.0px;"><code>&lt;result&gt;<br>  </code><code>&lt;transactionId&gt;{transactionid}&lt;/transactionId&gt;<br>  </code><code>&lt;purchaseDate&gt;2012-07-22T14:59:50&lt;/purchaseDate&gt;<br>  </code><code>&lt;channelName&gt;123Video&lt;/channelName&gt;<br>  </code><code>&lt;productName&gt;123Video Monthly Subscription&lt;/productName&gt;<br>  </code><code>&lt;productId&gt;NETMONTH&lt;/productId&gt;<br>  </code><code>&lt;amount&gt;9.99&lt;/amount&gt;<br>  </code><code>&lt;currency&gt;USD&lt;/currency&gt;<br>  </code><code>&lt;quantity&gt;1&lt;/quantity&gt;<br>  </code><code>&lt;expirationDate&gt;2012-08-22T14:59:50&lt;/expirationDate&gt;<br>  </code><code>&lt;originalPurchaseDate&gt;2010-08-22T14:59:50&lt;/originalPurchaseDate&gt;<br>  </code><code>&lt;status&gt;Success&lt;/status&gt;<br>  </code><code>&lt;errorMessage&gt;<em>error_message</em>&lt;/errorMessage&gt;<br></code><code>&lt;/result&gt;</code></p>
<h2 id="WebServiceAPI-/listen/transaction-service.svc/cancel-subscription">/listen/<a class="external-link" href="http://transaction-service.svc/cancel-subscription" rel="nofollow">transaction-service.svc/cancel-subscription</a>
</h2>
<p>Cancels the subscription that corresponds to the <em><code>transactionId</code></em>. The channel associated with the <em><code>transactionId</code></em> must be owned by the developer associated with <em><code>devtoken</code></em>.</p>
<h3 id="WebServiceAPI-RequestExample">Request Example</h3>
<p style="margin-left: 30.0px;"><code>&lt;cancel&gt;<br>  </code><code>&lt;partnerAPIKey&gt;{apikey}&lt;/partnerAPIKey&gt;<br>  </code><code>&lt;transactionId&gt;{transactionId}&lt;/transactionId&gt;<br>  </code><code>&lt;cancellationDate&gt;2012-08-22T14:59:50&lt;/cancellationDate&gt;<br>  </code><code>&lt;partnerReferenceId&gt;{partnerReferenceId}&lt;/partnerReferenceId&gt;<br></code><code>&lt;/cancel&gt;</code></p>
<h3 id="WebServiceAPI-ResponseExample.2">Response Example</h3>
<p style="margin-left: 30.0px;"><code>&lt;result&gt;<br>  </code><code>&lt;status&gt;Success&lt;/status&gt;<br>  </code><code>&lt;errorMessage&gt;<em>error_message</em>&lt;/errorMessage&gt;<br></code><code>&lt;/result&gt;</code></p>
<h2 id="WebServiceAPI-/listen/transaction-service.svc/refund-subscription">/listen/<a class="external-link" href="http://transaction-service.svc/refund-subscription" rel="nofollow">transaction-service.svc/refund-subscription</a>
</h2>
<p>Refunds the subscription that corresponds to the <em><code>transactionId</code></em>. The channel associated with <em><span style="font-family: Courier New;">transactionId</span></em> must be owned by the developer associated with <em><code>devtoken</code></em>. A <em><code>refundId</code></em> is returned to validate if needed at a later date.</p>
<h3 id="WebServiceAPI-RequestExample.1">Request Example</h3>
<p style="margin-left: 30.0px;"><code>&lt;cancel&gt;<br>  </code><code>&lt;partnerAPIKey&gt;{apikey}&lt;/partnerAPIKey&gt;<br>  </code><code>&lt;transactionId&gt;{transactionId}&lt;/transactionId&gt;<br>  </code><code>&lt;amount&gt;2.99&lt;/amount&gt;<br>  </code><code>&lt;partnerReferenceId&gt;{partnerReferenceId}&lt;/partnerReferenceId&gt;<br>  </code><code>&lt;comments&gt;Customer was not impressed&lt;/comments&gt;<br></code><code>&lt;/cancel&gt;</code></p>
<h3 id="WebServiceAPI-ResponseExample.3">Response Example</h3>
<p style="margin-left: 30.0px;"><code>&lt;result&gt;<br>  </code><code>&lt;status&gt;Success&lt;/status&gt;<br>  </code><code>&lt;errorMessage&gt;{error message goes here}&lt;/errorMessage&gt;<br>  </code><code>&lt;refundId&gt;{refundId}&lt;/refundId&gt;<br></code><code>&lt;/result&gt;</code></p>
<h2 id="WebServiceAPI-/listen/transaction-service.svc/update-bill-cycle">/listen/<a class="external-link" href="http://transaction-service.svc/update-bill-cycle" rel="nofollow">transaction-service.svc/update-bill-cycle</a>
</h2>
<p>Used to update the bill cycle of a subscription with the provided <em><code>transactionId</code></em>. The subscription must be owned by the developer that owns the included <em><code>partnerAPIkey</code></em>. The <code>newBillCycleDate</code> must be included in an ISO-8601 format.</p>
<h3 id="WebServiceAPI-RequestExample.2">Request Example</h3>
<p class="MsoNormal" style="margin-left: 30.0px;"><code><span>POST </span><a class="external-link" href="https://apipub.roku.com/listen/transaction-service.svc/update-bill-cycle%20HTTP/1.1" rel="nofollow"><span>https://apipub.roku.com/listen/transaction-service.svc/update-bill-cycle HTTP/1.1</span></a></code><br><code><span><span><span> content-type: application/json<br> </span>accept: application/json<br><br></span></span></code><code><span><span><span>{"partnerAPIKey":"02E763BE3642C0459CF79F5E011CB1CE5642","newBillCycleDate":" 2014-03-28","transactionId":"1C63E500EF094DB4A83CA2CF00B7EB4E"}</span></span></span></code></p>
<h3 id="WebServiceAPI-ResponseExample.4">Response Example</h3>
<p style="margin-left: 30.0px;"><span style="color: rgb(0,0,0);font-family: Times New Roman;font-size: medium;"> </span><span><code>{"errorCode":null,"errorDetails":null,"errorMessage":"","status":0}</code></span></p>
<h2 id="WebServiceAPI-/listen/transaction-service.svc/issue-service-credit"><span><span>/listen/<a class="external-link" href="http://transaction-service.svc/issue-service-credit" rel="nofollow">transaction-service.svc/issue-service-credit</a></span></span></h2>
<p><span><span>Used to issue a service credit to a particular customer ID. The channel/product must be owned by the developer that owns the included <em><code>partnerAPIKey</code></em>. If the service credit is for a channel, there must be an included channel ID. For an in-app product, there must be both a channel ID and product ID. The response will include a <em><code>referenceId</code></em> that can be used later to find the service credit in the Roku system. </span></span></p>
<h3 id="WebServiceAPI-RequestExample.3"><span>Request Example</span></h3>
<p class="MsoNormal" style="margin-left: 30.0px;"><code>POST <a class="external-link" href="https://apipub.roku.com/listen/transaction-service.svc/issue-service-credit%20HTTP/1.1" rel="nofollow"><span>https://apipub.roku.com/listen/transaction-service.svc/issue-service-credit HTTP/1.1</span></a></code><br><code>
accept: application/json</code><br><code>
content-type: application/json</code></p>
<p class="MsoNormal" style="margin-left: 30.0px;"><code><span>{"partnerAPIKey":"02E763BE3642C0459CF79F5E011CB1CE5642","amount":5.00,"channelId":"10081","comments":"This is sample json","partnerReferenceId":" ","productId":" ","rokuCustomerId":"AC4D2FD61F624451A61AQ2CF00A766A1"}</span></code></p>
<h3 id="WebServiceAPI-ResponseExample.5"><span><span><span>Response Example</span></span></span></h3>
<p style="margin-left: 30.0px;"><span> </span><code><span>{"errorCode":null,"errorDetails":null,"errorMessage":"","status":0,"ReferenceId":"1409"}</span></code></p>
<h1 id="WebServiceAPI-PushNotifications">Push Notifications</h1>
<p>Four types of push notifications are available if you subscribe to receive them: Sales, Cancellation, Credit, Refund. When a qualifying event occurs, Roku attempts to send the notification every few seconds. If the notification is not successfully delivered within a reasonable time period, Roku removes it.</p>
<h2 id="WebServiceAPI-Security">Security</h2>
<p>A few items have been implemented to ensure security. Roku sends a <em><code>responseKey</code></em> as shown in the examples below. The partner must return this and only this in the response content. Before downloading the content, Roku checks to ensure that the size is equal to the size of what was sent. This prevents hackers from responding with overwhelmingly large chunks of data attempting to crash the Roku system. Additionally, you are required to send an <code>ApiKey</code> header with the value containing your Roku API key that was issued on the developer site. When sending the notification, the subscriber cannot redirect in any way. If a redirect attempt is made, the request will fail. The requests also time out after 10 seconds.</p>
<h2 id="WebServiceAPI-ExampleNotifications">Example Notifications</h2>
<h3 id="WebServiceAPI-Credit">Credit</h3>
<p style="margin-left: 30.0px;"><span style='font-family: "Gotham Medium";'><span style="font-size: medium;"><span style="color: rgb(0,0,0);"><code>{"customerId":
"bbd2d8c616cc4802989da2d800cf2b81","transactionType":
"Credit","transactionId":
"1243","channelId":
"484","channelName": "StwzAbNxMbX779Ia","productCode":
"f478e3a9d68d4ff390bb","productName": "Monthly
Sub","price": 5.00,"total": 5.00,"currency":
"usd","partnerReferenceId":
"prefid","comments": "Service Credit
Test","eventDate": "2014-02-20T20:34:21.1781901Z","responseKey":"659a9e3f6b1649f681a408f1beeb2766"}</code></span></span></span></p>
<h3 id="WebServiceAPI-Sale"><span><span>Sale</span></span></h3>
<p style="margin-left: 30.0px;"><span style='font-family: "Gotham Medium";'><span style="font-size: medium;"><span style="color: rgb(0,0,0);"><code>{"customerId":"ac4d2fd61f624451a61aa2cf00a766a1","transactionType":"Sale","transactionId":"aa3f3a2479ea4e0c88d9a2d500f33e74","channelId":"26558","productCode":"testProd123","price":0.99,"tax":0.00,"total":0.99,"currency":"usd","comments":"New
order processed.","eventDate":"2014-02-17T22:45:37.496125Z","responseKey":"659a9e3f6b1649f681a408f1beeb2766"}</code></span></span></span></p>
<h3 id="WebServiceAPI-Refund"><span><span>Refund</span></span></h3>
<p style="margin-left: 30.0px;"><span style='font-family: "Gotham Medium";'><span style="font-size: medium;"><span style="color: rgb(0,0,0);"><code>{"customerId":"ac4d2fd61f624451a61aa2cf00a766a1","transactionType":"Refund","transactionId":"970625d44a544b78964ba2d6011231bd","channelId":"26558","productCode":"testProd123","price":-0.99,"tax":0.00,"total":-0.99,"currency":"usd","originalTransactionId":"dccc31583aa1441e8c76a2d600b28716","originalPurchaseDate":"2014-02-18T18:49:59","partnerReferenceId":"test","comments":"test","eventDate":"2014-02-19T00:38:20.231375Z","responseKey":"c1a73677590948e68215586dfa9455b5"}</code></span></span></span></p>
<h3 id="WebServiceAPI-Cancellation"><span><span>Cancellation</span></span></h3>
<p style="margin-left: 30.0px;"><code><span><span>{"customerId": "6a4d984e7aee47d18975a2d800cb707b","transactionType": "Cancellation","transactionId": "260a7b6d8e4a4e7b8b0ba2d800cb7142","channelId": "445","productCode": "fb435917cefc4f66b36c","productName":"Monthly Sub","expirationDate": "2014-02-20T20:20:42.6473452Z","originalTransactionId": "a82e4abdab0247fb9a2ca2d800cb712d","originalPurchaseDate": "2014-02-20T20:20:42","partnerReferenceId": "CANCELTESTNOTIFICATION","comments":"Cancellation for Monthly Sub","eventDate": "2014-02-20T20:20:42.6903495Z","responseKey":"c1a73677590948e68215586dfa9455b5"}</span></span></code></p>
<p class="MsoNormal" style="margin: 0.0in 0.0in 10.0pt;"><span style='font-family: "Gotham Medium";'><span style="color: rgb(0,0,0);font-size: medium;"> </span></span> </p>
<p> </p>

                
        
    
        </div>

        <!--
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
         xmlns:dc="http://purl.org/dc/elements/1.1/"
         xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
         <rdf:Description
    rdf:about="https://sdkdocs.roku.com/display/sdkdoc/Web+Service+API"
    dc:identifier="https://sdkdocs.roku.com/display/sdkdoc/Web+Service+API"
    dc:title="Web Service API"
    trackback:ping="https://sdkdocs.roku.com/rpc/trackback/1611458"/>
</rdf:RDF>
-->

            
    



<div id="labels-section" class="pageSection group">
    <div class="labels-section-content content-column" entityid="1611458" entitytype="page">
	<div class="labels-content">
		
    <ul class="label-list label-list-right ">
            <li class="no-labels-message">
            No labels
        </li>
            </ul>

    </div>
</div>
</div>

            
            




            
    








                        
    
<div id="comments-section" class="pageSection group">
        
    



</div>


            
</div>


    




    
    

    
    
    








</div>
  
    </div>
</div>


        
            
            



    </div>
</body>
</html>
