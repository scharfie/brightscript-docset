<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Closed Caption Support - Roku SDK Documentation - Developer Documentation</title>

        

                        
    
                        
    
                        
    

    <meta http-equiv="X-UA-Compatible" content="IE=EDGE,chrome=IE7">
<meta charset="UTF-8">
<meta id="confluence-context-path" name="confluence-context-path" content="">
<meta id="confluence-base-url" name="confluence-base-url" content="https://sdkdocs.roku.com">

<meta id="atlassian-token" name="atlassian-token" content="21a1f5b8620aee26e9099af2a2cb30f0bd6a3b67">


<meta id="confluence-space-key" name="confluence-space-key" content="sdkdoc">


    

    <meta name="confluence-request-time" content="1458566968448">
        
    
        
            <meta name="ajs-is-space-admin" content=""> <meta name="ajs-has-space-config" content="">
            <meta name="ajs-use-keyboard-shortcuts" content="true">
            <meta name="ajs-discovered-plugin-features" content="$discoveredList">
            <meta name="ajs-keyboardshortcut-hash" content="6f3f47137c1b3ed14b1e16e051694721">
            <meta name="ajs-is-confluence-admin" content="false">
            <meta name="ajs-connection-timeout" content="10000">
            
    
    
            <meta name="ajs-page-id" content="3737242">
            <meta name="ajs-latest-page-id" content="3737242">
            <meta name="ajs-content-type" content="page">
            <meta name="ajs-page-title" content="Closed Caption Support">
            <meta name="ajs-parent-page-title" content="Video Streaming">
            <meta name="ajs-parent-page-id" content="3737049">
            <meta name="ajs-space-key" content="sdkdoc">
            <meta name="ajs-space-name" content="Roku SDK Documentation">
            <meta name="ajs-from-page-title" content="">
            <meta name="ajs-can-remove-page" content="false">
            <meta name="ajs-context-path" content="">
            <meta name="ajs-base-url" content="https://sdkdocs.roku.com">
            <meta name="ajs-version-number" content="5.9.1-OD-65-062">
            <meta name="ajs-build-number" content="6150">
            <meta name="ajs-remote-user" content="">
            <meta name="ajs-remote-user-key" content="">
            <meta name="ajs-current-user-fullname" content="">
            <meta name="ajs-current-user-avatar-url" content="">
            <meta name="ajs-static-resource-url-prefix" content="/s/en_GB/6150/5f41c4ff85fd86016ba4c6b8a1bbb6bc9b81bcc3.31/_">
            <meta name="ajs-global-settings-attachment-max-size" content="10485760">
            <meta name="ajs-user-locale" content="en_GB">
            <meta name="ajs-enabled-dark-features" content="clc.quick.create,confluence-inline-comments-resolved,notification.plugin.api.enabled.com.atlassian.confluence.plugins.sharepage.api.ShareContentEvent,notification.plugin.api.enabled.com.atlassian.confluence.plugins.mentions.api.ConfluenceMentionEvent,notification.plugin.api.enabled.com.atlassian.confluence.event.events.security.ForgotPasswordEvent,pdf-preview,notification.plugin.api.enabled.com.atlassian.confluence.plugins.tasklist.event.SendTaskEmailEvent,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.page.async.PageMovedEvent,previews.sharing,previews.versions,notification.plugin.api.enabled.com.atlassian.confluence.plugins.files.notifications.event.FileContentUpdateEvent,file-annotations,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.attachment.AttachmentBatchUploadCompletedEvent,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.comment.CommentCreateEvent,notification.plugin.api.enabled.com.atlassian.confluence.efi.emails.events.OnboardingLessUsersEvent,notification.plugin.api.enabled.com.atlassian.confluence.plugins.files.notifications.event.FileContentRemoveEvent,confluence.wrap.macro,atlassian.aui.raphael.disabled,previews.conversion-service,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.comment.CommentUpdateEvent,notification.plugin.api.enabled.com.atlassian.confluence.event.events.follow.FollowEvent,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.page.async.PageEditedEvent,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.blogpost.BlogPostCreateEvent,previews.trigger-all-file-types,notification.plugin.api.enabled.com.atlassian.confluence.plugins.inlinecomments.events.InlineCommentResolveEvent,notification.plugin.api.enabled.com.atlassian.confluence.event.events.like.LikeCreatedEvent,notification.plugin.api.enabled.com.atlassian.confluence.plugins.inlinecomments.events.InlineCommentCreateEvent,previews.sharing.pushstate,confluence-inline-comments-rich-editor,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.blogpost.BlogPostUpdateEvent,file-annotations.likes,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.page.async.PageCreatedEvent,notification.plugin.api.enabled.com.atlassian.confluence.plugins.files.notifications.event.FileContentMentionUpdateEvent,notification.plugin.api.enabled.com.atlassian.confluence.efi.emails.events.OnboardingNoSpaceCreatedEvent,notification.plugin.api.enabled.com.atlassian.confluence.plugins.hipchat.api.events.HipChatUserMapped,notification.plugin.api.enabled.com.atlassian.confluence.plugins.sharepage.api.ShareAttachmentEvent,confluence-inline-comments,quick-reload-inline-comments-flags,confluence-inline-comments-dangling-comment,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.blogpost.BlogPostMovedEvent">
            <meta name="ajs-atl-token" content="21a1f5b8620aee26e9099af2a2cb30f0bd6a3b67">
            <meta name="ajs-confluence-flavour" content="VANILLA">
            <meta name="ajs-user-date-pattern" content="dd MMM yyyy">
            <meta name="ajs-date.format" content="MMM dd, yyyy">
    
    <link rel="shortcut icon" href="../../s/en_GB/6150/5f41c4ff85fd86016ba4c6b8a1bbb6bc9b81bcc3.31/_/favicon.ico">
    <link rel="icon" type="image/x-icon" href="../../s/en_GB/6150/5f41c4ff85fd86016ba4c6b8a1bbb6bc9b81bcc3.31/_/favicon.ico">

<link rel="search" type="application/opensearchdescription+xml" href="https://sdkdocs.roku.com/opensearch/osd.action" title="Developer Documentation">


<link type="text/css" rel="stylesheet" href="../../s/c0b179288d335d9e912667cdb75fb8d2-CDN/en_GB/6150/5f41c4ff85fd86016ba4c6b8a1bbb6bc9b81bcc3.31/9/_/download/superbatch/css/batch.css%3Fbuild-number=6150.css" media="all">
<!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/6150/5f41c4ff85fd86016ba4c6b8a1bbb6bc9b81bcc3.31/9/_/download/superbatch/css/batch.css?conditionalComment=lt+IE+9" media="all">
<![endif]-->
<!--[if lte IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/6150/5f41c4ff85fd86016ba4c6b8a1bbb6bc9b81bcc3.31/9/_/download/superbatch/css/batch.css?conditionalComment=lte+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/6150/5f41c4ff85fd86016ba4c6b8a1bbb6bc9b81bcc3.31/fb358127e94bd69e710c31c2f2ba1c43/_/download/contextbatch/css/toc-macro-client-impl/batch.css" media="all">
<link type="text/css" rel="stylesheet" href="../../s/d375ee99916b6b096207b53cf4260ab0-CDN/en_GB/6150/5f41c4ff85fd86016ba4c6b8a1bbb6bc9b81bcc3.31/97a922b416cbe43cf83e5c5ab531a613/_/download/contextbatch/css/atl.confluence.plugins.pagetree-desktop,main,viewcontent,page,atl.general,atl.comments/batch.css%3Fhighlightactions=true&amp;flavour=VANILLA&amp;custom-site-logo=true.css" media="all">
<!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/6150/5f41c4ff85fd86016ba4c6b8a1bbb6bc9b81bcc3.31/97a922b416cbe43cf83e5c5ab531a613/_/download/contextbatch/css/atl.confluence.plugins.pagetree-desktop,main,viewcontent,page,atl.general,atl.comments/batch.css?conditionalComment=lt+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="../../s/35e02545dc3a2fc430eccbb927fe7227-CDN/en_GB/6150/5f41c4ff85fd86016ba4c6b8a1bbb6bc9b81bcc3.31/96ff7b4cb8d7e0cf3843a298eef90d7a/_/download/contextbatch/css/theme.doc/batch.css" media="all">
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/6150/5f41c4ff85fd86016ba4c6b8a1bbb6bc9b81bcc3.31/2.1.8/_/download/batch/com.atlassian.confluence.ext.newcode-macro-plugin:syntaxhighlighter/com.atlassian.confluence.ext.newcode-macro-plugin:syntaxhighlighter.css" media="all">
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/6150/5f41c4ff85fd86016ba4c6b8a1bbb6bc9b81bcc3.31/2.1.8/_/download/batch/com.atlassian.confluence.ext.newcode-macro-plugin:sh-theme-eclipse/com.atlassian.confluence.ext.newcode-macro-plugin:sh-theme-eclipse.css" media="all">
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/6150/5f41c4ff85fd86016ba4c6b8a1bbb6bc9b81bcc3.31/2.1.8/_/download/batch/com.atlassian.confluence.ext.newcode-macro-plugin:sh-theme-confluence/com.atlassian.confluence.ext.newcode-macro-plugin:sh-theme-confluence.css" media="all">
<link type="text/css" rel="stylesheet" href="../../s/en_GB/6150/5f41c4ff85fd86016ba4c6b8a1bbb6bc9b81bcc3.31/31/_/styles/colors.css" media="all">
<script type="text/javascript" src="../../s/a72faf4a376b855acc1dc1b5e40829cb-CDN/en_GB/6150/5f41c4ff85fd86016ba4c6b8a1bbb6bc9b81bcc3.31/9/_/download/superbatch/js/batch.js%3Fatlassian.aui.raphael.disabled=true&amp;locale=en-GB&amp;build-number=6150"></script>
<script type="text/javascript" src="../../s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/6150/5f41c4ff85fd86016ba4c6b8a1bbb6bc9b81bcc3.31/fb358127e94bd69e710c31c2f2ba1c43/_/download/contextbatch/js/toc-macro-client-impl/batch.js"></script>
<script type="text/javascript" src="../../s/fd3d085a9edff5a756d242bf1bc14976-CDN/en_GB/6150/5f41c4ff85fd86016ba4c6b8a1bbb6bc9b81bcc3.31/97a922b416cbe43cf83e5c5ab531a613/_/download/contextbatch/js/atl.confluence.plugins.pagetree-desktop,main,viewcontent,page,atl.general,atl.comments/batch.js%3Fanalytics-uploadable=true&amp;highlightactions=true&amp;flavour=VANILLA&amp;analytics-enabled=true&amp;locale=en-GB&amp;anonymous-access-enabled=true&amp;is-server-instance=true&amp;hostenabled=true"></script>
<script type="text/javascript" src="../../s/6c0981174e94142364564819dc0d1413-CDN/en_GB/6150/5f41c4ff85fd86016ba4c6b8a1bbb6bc9b81bcc3.31/96ff7b4cb8d7e0cf3843a298eef90d7a/_/download/contextbatch/js/theme.doc/batch.js%3Flocale=en-GB"></script>
<script type="text/javascript" src="../../s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/6150/5f41c4ff85fd86016ba4c6b8a1bbb6bc9b81bcc3.31/2.1.8/_/download/batch/com.atlassian.confluence.ext.newcode-macro-plugin:syntaxhighlighter/com.atlassian.confluence.ext.newcode-macro-plugin:syntaxhighlighter.js"></script>
<script type="text/javascript" src="../../s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/6150/5f41c4ff85fd86016ba4c6b8a1bbb6bc9b81bcc3.31/2.1.8/_/download/batch/com.atlassian.confluence.ext.newcode-macro-plugin:syntaxhighlighter-brushes/com.atlassian.confluence.ext.newcode-macro-plugin:syntaxhighlighter-brushes.js"></script>
<script type="text/javascript" src="../../s/6c0981174e94142364564819dc0d1413-CDN/en_GB/6150/5f41c4ff85fd86016ba4c6b8a1bbb6bc9b81bcc3.31/2.1.8/_/download/batch/com.atlassian.confluence.ext.newcode-macro-plugin:syntaxhighlighter-init/com.atlassian.confluence.ext.newcode-macro-plugin:syntaxhighlighter-init.js%3Flocale=en-GB"></script>


        
    

        
        <meta name="ajs-site-title" content="Developer Documentation">

    
    

<!-- Google Tag Manager -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WZTPN7" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>

<!-- End Google Tag Manager -->

<!-- New Relic -->

<!-- End New Relic -->

    
                <link rel="canonical" href="Closed+Caption+Support.html">
        <link rel="shortlink" href="https://sdkdocs.roku.com/x/mgY5">
    <meta name="wikilink" content="[sdkdoc:Closed Caption Support]">
    <meta name="page-version" content="9">

</head>

<body onload="placeFocus()" id="com-atlassian-confluence" class="theme-documentation  aui-theme-default aui-layout">

        
            <div id="stp-licenseStatus-banner"></div>
    <div id="full-height-container">
    <div id="header-precursor">
        
                    </div>







<header id="header" role="banner">
    <nav class="aui-header aui-dropdown2-trigger-group" role="navigation"><div class="aui-header-inner"><div class="aui-header-primary">
<h1 id="logo" class="aui-header-logo aui-header-logo-custom"><a href="../sdkdoc.1.html"><img src="https://sdkdocs.roku.com/download/attachments/524289/atl.site.logo?version=2&amp;modificationDate=1440675577312&amp;api=v2" alt="Developer Documentation"><span class="aui-header-logo-text">Developer Documentation</span></a></h1>
<ul class="aui-nav">
                            <li>
            
        
        
<a id="space-directory-link" href="https://sdkdocs.roku.com/spacedirectory/view.action" class=" aui-nav-imagelink" title="Spaces">
            <span>Spaces</span>
    </a>
        </li>
                            <li id="browseMenu" role="menu">
            
    
        <a id="browse-menu-link" class="aui-nav-link aui-dropdown2-trigger" href="Closed+Caption+Support.html#" aria-haspopup="true" aria-owns="browse-menu-link-content" title="Browse">
        <span class="browse">Browse</span>
    </a>
    <nav id="browse-menu-link-content" class="aui-dropdown2 aui-style-default" aria-hidden="true">
                    <div class="aui-dropdown2-section">
                                <ul id="browse-menu-link-leading" class="aui-list-truncate section-leading first">
                                            <li>
    
            
<a id="space-pages-link" href="https://sdkdocs.roku.com/pages/listpages.action?key=sdkdoc" class="    " title="Browse pages in the Roku SDK Documentation space">
        Pages
</a>
</li>
                                            <li>
    
            
<a id="space-blogposts-link" href="https://sdkdocs.roku.com/pages/viewrecentblogposts.action?key=sdkdoc" class="    " title="Browse blogs in the Roku SDK Documentation space">
        Blog
</a>
</li>
                                            <li>
    
            
<a id="space-labels-link" href="https://sdkdocs.roku.com/labels/listlabels-heatmap.action?key=sdkdoc" class="    " title="Browse labels in the Roku SDK Documentation space">
        Labels
</a>
</li>
                                            <li>
    
            
<a id="space-advanced-link" href="https://sdkdocs.roku.com/spaces/viewspacesummary.action?key=sdkdoc" class="    " title="Browse additional space functions in the Roku SDK Documentation space">
        Space Operations
</a>
</li>
                                    </ul>
            </div>
            </nav>
    
        </li>
                        <li class="aui-buttons">
            </li>
    </ul>
</div></div>
<!-- .aui-header-inner--></nav><!-- .aui-header -->
    <br class="clear">
</header>

    <div id="splitter">
    <div id="splitter-sidebar" class="padding-div">
        

                    
    






            </div>
    <div id="splitter-content">

        

                        
            
<div id="main" class="aui-page-panel">
    <div id="main-header">
        
        
    

        
                <div id="title-heading" class="pagetitle with-breadcrumbs">
        
                                        
                            <div id="breadcrumb-section">
                    
    
    
    <ol id="breadcrumbs">
                                        
                        
        <li class="first">
                        
                            <span class=""><a href="../sdkdoc.1.html">Roku SDK Documentation</a></span>
                                                                                            </li>
<li id="ellipsis" title="Show all breadcrumbs"><span><strong>…</strong></span></li>
                                                
                        
        <li class="hidden-crumb">
                        
                            <span class=""><a href="../sdkdoc.1.html">Roku SDK Documentation</a></span>
                                                                                    
                        
        </li>
<li class="hidden-crumb">
                        
                            <span class=""><a href="Developer+Guide.html">Developer Guide</a></span>
                                                                    
                        
        </li>
<li>
                        
                            <span class=""><a href="Video+Streaming.html">Video Streaming</a></span>
                                                    </li>
</ol>


                </div>
            
            <h1 id="title-text" class="with-breadcrumbs">
                                        <a href="Closed+Caption+Support.html">Closed Caption Support</a>
                            </h1>
        </div>
    </div>

    

    
    
    
    
    

        




        













    
    
        
    
    
                    
    

    


<div id="content" class="page view">
    


<div id="action-messages">
                        </div>



        


        
    
    
        <fieldset class="hidden parameters">
            <input type="hidden" title="parentPageId" value="3737049">
        </fieldset>

                            
    

                    

        
        <a href="Closed+Caption+Support.html#page-metadata-end" class="assistive">Skip to end of metadata</a>
<div id="page-metadata-start" class="assistive"></div>

    <div class="page-metadata">
        <ul>
                            <li class="page-metadata-item noprint">

    
            
                                            
    
    
    <a id="content-metadata-page-restrictions-hidden" href="Closed+Caption+Support.html#" rel="nofollow" class="hidden" title="Unrestricted">
                <span>
                        
        </span>    </a>
</li>
                            <li class="page-metadata-item noprint">

    
        
                                            
    
    
    <a id="content-metadata-attachments" href="https://sdkdocs.roku.com/pages/viewpageattachments.action?pageId=3737242&amp;metadataLink=true" rel="nofollow" class="aui-icon aui-icon-small aui-iconfont-attachment" accesskey="t" title="9 attachments">
                <span>
                        
        </span>    </a>
</li>
                        <li class="page-metadata-modification-info">
                
        
    
        
    
        
            
            Created by <span class="author">     <a href="../~breid.html" class="url fn">Bill Reid</a></span>, last modified by <span class="editor">     <a href="../~rburdick.html" class="url fn">Robert Burdick</a></span> on <a class="last-modified" title="Show changes" href="https://sdkdocs.roku.com/pages/diffpagesbyversion.action?pageId=3737242&amp;selectedPageVersions=8&amp;selectedPageVersions=9">Jan 13, 2016</a>
                </li>
        </ul>
    </div>


<a href="Closed+Caption+Support.html#page-metadata-start" class="assistive">Go to start of metadata</a>
<div id="page-metadata-end" class="assistive"></div>

        
        <fieldset class="hidden parameters">
                        <input type="hidden" title="browsePageTreeMode" value="view">
        </fieldset>

        <div id="main-content" class="wiki-content">
                           
        <hr>
<p></p>
<div class="toc-macro client-side-toc-macro  conf-macro output-block" data-csslistindent="18px" data-cssliststyle="square" data-hasbody="false" data-headerelements="H1,H2,H3,H4,H5,H6,H7" data-macro-name="toc"> </div>
<hr>
<p>The Roku platform supports the following closed caption formats:</p>
<ul>
<li>SMPTE-TT</li>
<li>eia608</li>
<li>WebVTT</li>
</ul>
<p>SMPTE-TT uses TTML formatted data either in an external file or embedded into the video stream to carry the caption text, timing, and format information. With eia608, caption information can only be embedded into the video stream. Adding support for either of these formats to your BrightScript channel is straightforward. Please note that SMPTE-TT and eia608 caption formats are not supported on legacy Roku platforms (that is, those devices running firmware version 3.1). For these platforms, you are limited to the use of SRT subtitles. Closed caption support is also available for the roVideoPlayer component. Channels that embed video playback in roScreen or roImageCanvas using roVideoPlayer can include closed captions. Closed captions are added to such channels using the <a class="external-link" href="roCaptionRenderer.html" rel="nofollow">roCaptionRenderer</a> component.</p>
<p>The preferred technique for specifying closed caption track information is to use the <a href="Content+Meta-Data.html"><strong>Content Meta-Data</strong></a> property SubtitleConfig introduced with the Roku 5.4 firmware release. The previous technique of setting the TrackIDSubtitle content metadata property is still supported, but is not preferred. SubtitleConfig also provides a means for overriding the Roku global closed caption on/off/instant replay setting if the channel desires. This is also not recommended, as the global settings should be default mechanism for users to control closed captions during video playback. Another new addition to the 5.4 firmware is the SubtitleTracks metadata property. This defines an optional roAssociativeArray of subtitle track URLs. SubtitleTracks is used for video content that uses external caption files, versus in-stream captions. Tracks specified using SubtitleTracks are exposed to the user through the closed caption configuration dialog (shown in the figure below) which is displayed during video playback in roVideoScreen when the user presses the * key on the Roku remote. Some examples of SubtitleConfig usage are given in the code samples below. SubtitleConfig and SubtitleTracks are described in detail in the <a href="Content+Meta-Data.html"><strong>Content Meta-Data</strong></a> documentation.</p>
<p>The code samples below are specifically for adding captions to roVideoScreen. Using closed captions in roVideoPlayer requires the use of the roCaptionRenderer component. In this case, programming steps such as setting up the stream metadata are the same. However the actual caption text drawing is done either by the Roku firmware or the channel's BrightScript code, as determined by the configuration of the roCaptionRenderer component used by the video player. Complete details about how to add closed captions to roVideoPlayer can be found in the <a class="external-link" href="roCaptionRenderer.html" rel="nofollow">roCaptionRenderer</a> documentation.</p>
<p>The non-legacy Roku platforms also include a closed captions setting menu (under the Settings menu option) which allows Roku users to control how closed captions are rendered on the device. These settings let users turn closed captions on and off, and to customize various caption properties such as font size, color, etc. These settings are available to developers via APIs defined on the roDeviceInfo component. It is not necessary for channels to implement their own closed caption settings UI, as the state of the global settings can be queried using these new API functions. Details of the global closed caption settings APIs <a class="external-link" href="ifDeviceInfo.html#ifDeviceInfo-GetCaptionsModeasString" rel="nofollow">can be found here.</a></p>
<p style="margin-left: 30.0px;"><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="https://sdkdocs.roku.com/download/attachments/3737242/caption_dialog.png?version=1&amp;modificationDate=1446488259014&amp;api=v2" data-image-src="/download/attachments/3737242/caption_dialog.png?version=1&amp;modificationDate=1446488259014&amp;api=v2" data-unresolved-comment-count="0" data-linked-resource-id="3737233" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="caption_dialog.png" data-base-url="https://sdkdocs.roku.com" data-linked-resource-content-type="application/octet-stream" data-linked-resource-container-id="3737242" data-linked-resource-container-version="9"></span></p>
<p style="margin-left: 30.0px;"><strong>Closed Caption Configuration Dialog Displayed When Pressing the * Key on the Remote</strong></p>
<h3 id="ClosedCaptionSupport-SMPTE-TT">SMPTE-TT</h3>
<p>SMPTE-TT captions can be delivered either via TTML formatted external files or by embedding the TTML data directly into the video stream. See the table at the end of the page for the combinations of video and TTML delivery formats supported. For example, to render SMPTE-TT captions in MP4, Smooth or HLS VOD content using an external TTML file, simply set the SubtitleUrl content metadata property of your roVideoScreen instance. In addition, you need to call ifVideoScreen.ShowSubtitle(true) . The specified TTML file is then loaded and the captions rendered once the ifVideoScreen.Play() method is called.</p>
<div class="code panel pdl conf-macro output-block" data-hasbody="true" data-macro-name="code" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<script type="syntaxhighlighter" class="brush: java; gutter: false; theme: Eclipse"><![CDATA[videoScreen = CreateObject(&quot;roVideoScreen&quot;)
subtitle_config = {
    TrackName: &quot;http://10.0.0.3/roku/test.ttml&quot;
}    
metaData = {        
    Stream: {
        Url: &quot;http://video.ted.com/talks/podcast/DavidKelley_2002_480.mp4&quot;
    }    
    StreamFormat: &quot;mp4&quot;
    SubtitleConfig: subtitle_config  
}
videoScreen.SetContent( metaData )
videoScreen.Show()]]></script>
</div></div>
<p>For smooth streams, TTML caption data can also be embedded directly in the stream. For live streams, this is required. In either case (VOD or live,) the manifest will include a &lt;StreamIndex&gt; element of type text with name attribute such as textstream_eng for each supported language. For example, to display the captions in an English text track named textstream_eng, you would set the TrackName attribute of the SubtitleConfig content metadata on your roVideoScreen instance as follows:</p>
<div class="code panel pdl conf-macro output-block" data-hasbody="true" data-macro-name="code" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<script type="syntaxhighlighter" class="brush: java; gutter: false; theme: Confluence"><![CDATA[videoScreen = CreateObject(&quot;roVideoScreen&quot;)
subtitle_config = {
    TrackName: &quot;ism/textstream_eng&quot;
}
metaData = {        
    Stream: {
        Url: &quot;http://server.com/test/manifest&quot;
    }
    StreamFormat: &quot;ism&quot;     
    SubtitleConfig: subtitle_config
}
videoScreen.SetContent( metaData )
videoScreen.Show()]]></script>
</div></div>
<h4 id="ClosedCaptionSupport-RokuSMPTE-TTSupportDetails"><span style="color: rgb(0,0,0);">Roku SMPTE-TT Support Details</span></h4>
<p><span style="color: rgb(0,0,0);">Roku has partially implemented the SMPTE-TT TTML spec that can be referenced here: <a class="external-link" href="http://www.w3.org/TR/ttaf1-dfxp/" rel="nofollow" style="text-decoration: underline;">http://www.w3.org/TR/ttaf1-dfxp/</a>. Roku makes no claim of even minimal<span style="color: rgb(0,0,0);"> compliance. The link to the TTML spec is provided only for discussion on features we have implemented. Roku's TTML parser will recognize regions, styles, and spans. The captions are recognized as "p" paragraph elements with a "begin" and "end" time. Roku's TTML does not recognized the "duration" attribute for captions.</span></span></p>
<p>Roku's Caption rendering will always use a build in Gotham font regardless of any font specified in the TTML. Likewise, font styles (like italics or Bold) are also ignored. However, the Roku Caption rendering will make a best guess effort at choosing the corresponding font size in the system Gotham font using the specifed font size in the TTML.</p>
<p>Roku's TTML parser recognizes sufficient stylings to render colors, positions, and alignments either on an absolute or percentage offset. Namespaces do not cause a problem for the parser, but they are not validated either.</p>
<p>The Roku TTML parser recognizes the following elements from Section 7 of the TTML spec that specify the structure and principal content aspects of a document instance:</p>
<ul>
<li><p><a class="external-link" href="http://www.w3.org/TR/ttaf1-dfxp/#document-structure-vocabulary-tt" rel="nofollow"><strong>7.1.1 tt</strong></a></p></li>
<li><p><a class="external-link" href="http://www.w3.org/TR/ttaf1-dfxp/#document-structure-vocabulary-head" rel="nofollow"><strong>7.1.2 head</strong></a></p></li>
<li><p><a class="external-link" href="http://www.w3.org/TR/ttaf1-dfxp/#document-structure-vocabulary-body" rel="nofollow"><strong>7.1.3 body</strong></a></p></li>
<li><p><a class="external-link" href="http://www.w3.org/TR/ttaf1-dfxp/#content-vocabulary-div" rel="nofollow"><strong>7.1.4 div</strong></a></p></li>
<li><p><strong><a class="external-link" href="http://www.w3.org/TR/ttaf1-dfxp/#content-vocabulary-p" rel="nofollow">7.1.5 p</a></strong></p></li>
<li><p><strong><a class="external-link" href="http://www.w3.org/TR/ttaf1-dfxp/#content-vocabulary-span" rel="nofollow">7.1.6 span</a></strong></p></li>
</ul>
<p>The Roku TTML parser recognizes the following elements from Section 8 of the TTML spec that specify the structure and principal styling aspects of a document instance:</p>
<ul>
<li><p><a class="external-link" href="http://www.w3.org/TR/ttaf1-dfxp/#styling-vocabulary-styling" rel="nofollow"><strong>8.1.1 styling</strong></a></p></li>
<li><p><a class="external-link" href="http://www.w3.org/TR/ttaf1-dfxp/#styling-vocabulary-style" rel="nofollow"><strong>8.1.2 style</strong></a></p></li>
</ul>
<p>The Roku TTML parser recognizes the following styling elements from Section 8.2 of the TTML spec:</p>
<ul>
<li><p><a class="external-link" href="http://www.w3.org/TR/ttaf1-dfxp/#style-attribute-backgroundColor" rel="nofollow"><strong>8.2.2 backgroundColor</strong></a></p></li>
<li><p><a class="external-link" href="http://www.w3.org/TR/ttaf1-dfxp/#style-attribute-color" rel="nofollow"><strong>8.2.3 color</strong></a></p></li>
<li><p><a class="external-link" href="http://www.w3.org/TR/ttaf1-dfxp/#style-attribute-displayAlign" rel="nofollow"><strong>8.2.6 displayAlign</strong></a></p></li>
<li><p><a class="external-link" href="http://www.w3.org/TR/ttaf1-dfxp/#style-attribute-extent" rel="nofollow"><strong>8.2.7 extent</strong></a></p></li>
<li><p><a class="external-link" href="http://www.w3.org/TR/ttaf1-dfxp/#style-attribute-fontSize" rel="nofollow"><strong>8.2.9 fontSize</strong></a></p></li>
<li><p><a class="external-link" href="http://www.w3.org/TR/ttaf1-dfxp/#style-attribute-origin" rel="nofollow"><strong>8.2.14 origin</strong></a></p></li>
<li><p><strong><a class="external-link" href="http://www.w3.org/TR/ttaf1-dfxp/#style-attribute-textAlign" rel="nofollow">8.2.18 textAlign</a></strong></p></li>
</ul>
<p>The Roku TTML parser recognizes the following layout elements from Section 9 of the TTML spec:</p>
<ul>
<li><p><a class="external-link" href="http://www.w3.org/TR/ttaf1-dfxp/#layout-vocabulary-layout" rel="nofollow"><strong>9.1.1 layout</strong></a></p></li>
<li><p><a class="external-link" href="http://www.w3.org/TR/ttaf1-dfxp/#layout-vocabulary-region" rel="nofollow"><strong>9.1.2 region</strong></a></p></li>
</ul>
<div class="div3">
<p><a name="timing-attribute-vocabulary" rel="nofollow"></a>The Roku TTML parser recognizes the following basic timing attributes for use with timed elements:</p>
<ul>
<li><p><a class="external-link" href="http://www.w3.org/TR/ttaf1-dfxp/#timing-attribute-begin" rel="nofollow"><strong>10.2.1 begin</strong></a></p></li>
<li><p><strong><a class="external-link" href="http://www.w3.org/TR/ttaf1-dfxp/#timing-attribute-end" rel="nofollow">10.2.2 end</a></strong></p></li>
</ul>
</div>
<h3 id="ClosedCaptionSupport-eia608">eia608</h3>
<p>Roku supports 608 closed caption data encapsulated within a 708 container in an H.264 elementary stream. 608 captions are delivered as part of the video stream itself. One benefit of this caption format is that there can be multiple “channels” of captions within the stream. These separate channels could be used for different languages, for example English captions on one channel, Spanish on another, etc.</p>
<p>To render 608 captions from within BrightScript, simply set the TrackName attribute of the SubtitleConfig content metadata parameter on your roVideoScreen instance to “eia608/n” where n is the caption channel. For example, to play captions on channel 1, you would do something similar to this:</p>
<div class="code panel pdl conf-macro output-block" data-hasbody="true" data-macro-name="code" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<script type="syntaxhighlighter" class="brush: java; gutter: false; theme: Eclipse"><![CDATA[videoScreen = CreateObject(&quot;roVideoScreen&quot;)
subtitle_config = {
    TrackName: &quot;eia608/1&quot;
}    
metaData = {        
    Stream: {
        Url: &quot;http://server.com/test.m3u8&quot;
     }   
    StreamFormat: &quot;hls&quot;
    SubtitleConfig: subtitle_config     
}
videoScreen.SetContent( metaData )
videoScreen.Show()]]></script>
</div></div>
<h3 id="ClosedCaptionSupport-WebVTT">WebVTT</h3>
<p>Roku supports WebVTT captions if embedded in HLS streams or manifests. As with the other closed caption formats, a channel specifies WebVTT captions in the SubtitleConfig metadata. The TrackName property is set to "webvtt/track" where track specifies the index of the caption track to render. For example, the code below will select WebVTT track 9:</p>
<div class="code panel pdl conf-macro output-block" data-hasbody="true" data-macro-name="code" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<script type="syntaxhighlighter" class="brush: java; gutter: false; theme: Confluence"><![CDATA[videoScreen = CreateObject(&quot;roVideoScreen&quot;)
subtitle_config = {
    TrackName: &quot;webvtt/9&quot;
}    
metaData = {        
    Stream: {
        Url: &quot;http://server.com/test.m3u8&quot;
     }   
    StreamFormat: &quot;hls&quot;
    SubtitleConfig: subtitle_config     
}
videoScreen.SetContent( metaData )
videoScreen.Show()]]></script>
</div></div>
<h3 id="ClosedCaptionSupport-ClosedCaptionSupportSummary">Closed Caption Support Summary</h3>
<p>Below is a summary of the closed caption formats supported by the various video streaming technologies on Roku.</p>
<div class="table-wrap"><table class="confluenceTable"><tbody>
<tr>
<th class="confluenceTh"> </th>
<th class="confluenceTh">SMPTE-TT</th>
<th class="confluenceTh">eia608</th>
<th colspan="1" class="confluenceTh">WebVTT</th>
</tr>
<tr>
<th class="confluenceTh">MP4 VOD</th>
<td class="confluenceTd">Yes (external file only)</td>
<td class="confluenceTd">Yes (in stream only for all manifests containing AVC streams)</td>
<td colspan="1" class="confluenceTd">No</td>
</tr>
<tr>
<th class="confluenceTh">HLS VOD</th>
<td class="confluenceTd">Yes (external file only)</td>
<td class="confluenceTd">Yes (in stream only for all manifests containing AVC streams)</td>
<td colspan="1" class="confluenceTd">Yes (in stream only)</td>
</tr>
<tr>
<th class="confluenceTh">HLS Live</th>
<td class="confluenceTd">No</td>
<td class="confluenceTd">Yes (in stream only for all manifests containing AVC streams)</td>
<td colspan="1" class="confluenceTd">Yes (in manifest)</td>
</tr>
<tr>
<th class="confluenceTh">Smooth VOD</th>
<td class="confluenceTd">Yes (in stream or external file)</td>
<td class="confluenceTd">Yes (in stream only for all manifests containing AVC streams)</td>
<td colspan="1" class="confluenceTd">No</td>
</tr>
<tr>
<th class="confluenceTh">Smooth Live</th>
<td class="confluenceTd">Yes (in stream only)</td>
<td class="confluenceTd">Yes (in stream only for all manifests containing AVC streams)</td>
<td colspan="1" class="confluenceTd">No</td>
</tr>
<tr>
<th colspan="1" class="confluenceTh">DASH VOD</th>
<td colspan="1" class="confluenceTd">Yes (external file only)</td>
<td colspan="1" class="confluenceTd">Yes (in stream only for all manifests containing AVC streams)</td>
<td colspan="1" class="confluenceTd">No</td>
</tr>
</tbody></table></div>

                
        
    
        </div>

        <!--
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
         xmlns:dc="http://purl.org/dc/elements/1.1/"
         xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
         <rdf:Description
    rdf:about="https://sdkdocs.roku.com/display/sdkdoc/Closed+Caption+Support"
    dc:identifier="https://sdkdocs.roku.com/display/sdkdoc/Closed+Caption+Support"
    dc:title="Closed Caption Support"
    trackback:ping="https://sdkdocs.roku.com/rpc/trackback/3737242"/>
</rdf:RDF>
-->

            
    



<div id="labels-section" class="pageSection group">
    <div class="labels-section-content content-column" entityid="3737242" entitytype="page">
	<div class="labels-content">
		
    <ul class="label-list label-list-right ">
            <li class="no-labels-message">
            No labels
        </li>
            </ul>

    </div>
</div>
</div>

            
            




            
    








                        
    
<div id="comments-section" class="pageSection group">
        
    



</div>


            
</div>


    




    
    

    
    
    








</div>
  
    </div>
</div>


        
            
            



    </div>
</body>
</html>
